****************************************************************
*
* Owner:	JOHNSON
*
* Software:	?
* Initiated:	?
*
* Modified:	Shawn Liptak 8/6/91  - Hiscore display and entry (Total carnage)
* 		Shawn Liptak 11/9/91 - Title screen
* 		Shawn Liptak 2/7/92  - Stripped for basketball
*
* COPYRIGHT (C) 1992 WILLIAMS ELECTRONICS GAMES, INC.
*
*.Last mod - 3/22/93 16:24
****************************************************************
	.file	"attract.asm"
	.title	"attract mode"
	.width	132
	.option	b,d,l,t
	.mnolist


	.include	"mproc.equ"
	.include	"disp.equ"
	.include	"sys.equ"
	.include	"gsp.equ"
	.include	"game.equ"
	.include	"audit.equ"
	.include	"macros.hdr"
	.include	"link.equ"

	.include	"credturb.glo"
	.include	"imgtbl.glo"
	.include	"bgndtbl.glo"
	.include	"bgndtbl7.asm"
	.include	"bgndpal7.asm"
	.include	"bgndtbl7.glo"

	.def	COLTAB
	.def	creditscreen

	.ref	tuneend_snd,bounce_snd
	.ref	tuneq1_snd,tuneq2_snd,tuneq3_snd,tuneq4_snd
;DJT Start
;	.ref	QSNDRST
;DJT End

;DJT ref moved down to reference
	.ref	drw_chicks
	.ref	TWOPLAYERS			;0 = NO, 1 = YES 2 players
	.ref	COLTAB2
	.ref	get_all_buttons_down,get_all_buttons_cur2
	.ref	fade_up,fade_down
	.ref	bast7t_ascii,bast8_ascii,bast8t_ascii,bast10_ascii
	.ref	bast7tcyc_ascii,bast8tcyc_ascii
	.ref	brush20_ascii,inga16_ascii
	.ref	brush10_ascii
	.ref	special_heads
	.ref	our_heads,our_names
	.ref	get_opponent_team
	.ref	winningteam
	.ref	credits2,credits3
	.ref	show_hiscore,WNDWOFF
	.ref	player1_data,player2_data,player3_data,player4_data
	.ref	player_names,player_heads
;DJT Start
;DJT .ref removed
;DJT End
	.ref	GAMSTATE,HALT,KILBGND
	.ref	process_init
	.ref	tvpanelon,gndstat
	.ref	BAKMODS,BGND_UD1,CLR_SCRN
	.ref	CR_CONTP,P_CONT,CR_STRTP,P_START,WSPEED
	.ref	WNDWON,CRD_SCRN2,IRQSKYE
	.ref	pal_clean,pal_getf,dmaq_wait,display_init,AUD1
	.ref	GET_ADJ
	.ref	conttimers
	.ref	GETHIGH,pal_set,PALFRAM
	.ref	COLCYC,COLRPRC
;DJT Start
;DJT .refs removed
;DJT End
	.ref	GET_AUD,DEF_PAGE
	.ref	PSTATUS,PSTATUS2
	.ref	dirqtimer,dirq_wait
	.ref	dpageflip,dpageflip_off
	.ref	WIPEOUT
	.ref	demogame_start
	.ref	system_savegame,system_restoregame
	.ref	create_stat_titles
	.ref	do_scrn_transition
	.ref	wipe_horz_stag_dwn,un_wipe_horz_stag_dwn
	.ref	wipe_horz_comb
	.ref	NO_CREATE_DEL_OBJS,CREATE_NO_DEL_OBJS
	.ref	scores
	.ref	print_string,print_string2,print_string_C,print_string_C2
	.ref	message_palette
	.ref	message_ascii,mess_spacing,mess_objid,mess_cursx,mess_cursy
	.ref	mess_cursx2,mess_justify,kern_chars,print_string2b
	.ref	setup_message
	.ref	message_buffer
	.ref	dec_to_asc,dec_to_pct
	.ref	copy_string,copy_rom_string
	.ref	concat_string,concat_rom_string
	.ref	print_string_R,print_string_R2
	.ref	FADERAM,RNDRNG0
	.ref	player_stats
;	.ref	get_stick_val_cur
	.ref	new_team_select_screen
	.ref	get_name_string
	.ref	bast18_ascii,brush12_ascii
;	.ref	create_heads
	.ref	create_names,create_plyrs_name
	.ref	create_name_backplates
	.ref	create_title_bar
	.ref	anim_fire_for_best_plyr
	.ref	kill_fire_anim
	.ref	create_player_head_backdrops
	.ref	create_score_backdrop
;DJT Start
;	.ref	set_volume_for_amode
;DJT End
	.ref	team1,team2
	.ref	tick_snd
	.ref	best_plyr_speech
	.ref	un_wipe_horizontal,wipe_horizontal
	.ref	mess_line_spacing
	.ref	CYCLE_TABLE,BSTCYCB_P
;	.ref	p1taps,p2taps,p3taps,p4taps
	.ref	result_screen
	.ref	kp_team1,kp_scores,kp_team2
	.ref	SOUNDSUP
	.ref	STRCNRMO
	.ref	ADJ_PAGE,RC_BYTEI
	.ref	RD7FONT
	.ref	STRLNRMO_1
	.ref	STRCNRMO_1
	.ref	octopus2		
	.ref	prt_credits
	.ref	start_msgs
	.ref	fix_dropout_msgs
	.ref	sc_proc
	.ref	buyin_screen
;DJT Start

	.if	TRIVCON
	.ref	trivia_game
	.endif	;TRIVCON

;DJT End
	.ref	gmqrtr
	.ref	start_teams
	.ref	create_heading2
	.ref	flash_bigtxt2
	.ref	bast8_2_ascii,hangfnt38_ascii
	.ref	HANGF_R_P
	.ref	crwdbed_kill
	.ref	kill_flsh_txt_proc
	.ref	change_pal_on_text
	.ref	plyr_onfire
;DJT Start
	.ref	BASTC_W_P,B8TCYC_PER
;DJT End
	.ref	create_player_nubs
	.ref	create_player_heads
	.ref	update_player_heads
	.ref	award_plr_attrib_pts

	.ref	pup_showshotper,pup_noassistance
	.ref	pup_court,pup_aba
	.ref	kp_p1_crtplr,kp_p2_crtplr,kp_p3_crtplr,kp_p4_crtplr
;DJT Start
	.ref	logos,name_sort
	.ref	BALLBAK1
;DJT End
	.ref	city_names_str_tbl

	.ref	JEF_MUG
	.ref	SAL_MUG
	.ref	TUR_MUG
	.ref	DAN_MUG
	.ref	EUG_MUG
	.ref	JMC_MUG
	.ref	JEN_MUG
	.ref	HEY_MUG
	.ref	WIL_MUG
	.ref	BAR_MUG
	.ref	MIN_MUG
	.ref	KIM_MUG
	.ref	NEI_MUG
	.ref	MDOC_MUG
	.ref	MAR_MUG
	.ref	JAB_MUG

;ram
	BSSX	ENTERON		,16	;INITIALS BEING ENTERD FLAG

	BSSX	hisclong	,16	;!0=Show hiscore table longer

;DJT Start
;	.bss	cycram		,16*2*16	;Palette cycle mem
;DJT End
;;	.bss	RAMLST,32*40 ;35		;IMG PNTRS FOR DELETION WHILE SCROLL

;RAMLST	.bss	RAMLST		,8*2*16	;Temp obj ram

;
;	.bss	cycram2		,8*2*16	;^
;	.bss	cycram3		,7*2*16	;^
;	.bss	cycram4		,7*2*16	;^
;	.bss	cycram5		,7*2*16	;^
;	.bss	cycram6		,7*2*16	;^
;	.bss	cycram7		,9*2*16	;^

	.bss	team_cnts	,32	;left team cnt, +16=rgt team cnt
	.bss	stick		,32	;stick ram for team selection

;DJT Start
	BSSX	amodeloop	,16	;Cntr for when to show design team
;DJT End
	.bss	otdloop		,16	;Cntr for when to show outdoor crt
	.bss	tmnbr		,16
	.bss	tmloop		,16



	.text

********************************
* Attract mode start up routine (Process)


bgupslp	SLEEPK	1

 SUBR	amode_start

;DJT Start
;BAD!! VERY BAD!!	;let the sound board reset finish up.
;BAD!! VERY BAD!!	SLEEPK	8

	.ref	set_game_snd
	move	@SOUNDSUP,a0
	clr	a14
	move	a14,@SOUNDSUP
	calla	set_game_snd
	move	a0,@SOUNDSUP

;DJT End

;	clr	a3
;	calla	SNDSND

	movi	ACTIVE,a0		;>Look for indestructables
	jruc	bgupnxt

bgupilp	move	*a0(PROCID),a14
	jrn	bgupslp			;Found?
bgupnxt	move	*a0,a0,L
	jrnz	bgupilp

	calla	process_init		;Init process list

	move	@FREE,a13,L		;Get 1st free
	move	*a13,a0,L
	move	a0,@FREE,L
	clr	a0
	move	a0,*a13,L
	move	a13,@ACTIVE,L		;Put me on active list

	move	a13,a12
	addi	PRCSIZ,a12

	movi	AMODE_PID,a0
	move	a0,*a13(PROCID)

	movi	-1,a0
	move	a0,@winningteam

	movk	1,a0
	move	a0,@dpageflip

;	move	@GAMSTATE,a0
;	jan	SUCIDE			;INDIAG?

	movk	INAMODE,a0
	move	a0,@GAMSTATE
	calla	COLRPRC
	movi	AMODE_PID,a1
	movi	amode,a7
	calla	GETPRC

	clr	a0
	move	a0,@HALT
	move	a0,@ENTERON
;	move	a0,@p1taps
;	move	a0,@p2taps
;	move	a0,@p3taps
;	move	a0,@p4taps

;Fall through

********************************
* Attract mode loop (Process)


 SUBRP	amode

bguplp
	movi	AMODE_PID,a0
	move	a0,*a13(PROCID)

;DJT Start
;Temp - non stop gameplay in attract
;;	JSRP	demogame
;;	jruc	bguplp
;;
;;	JSRP	show_nba_plyrs
;;	JSRP	show_designteam
;;
;;	.ref	found_champ
;;	JSRP	found_champ
;;
;;	.ref	show_trophy
;;	JSRP	show_trophy
;;	calla	set_volume_for_amode

	JSRP	show_title

;	.ref	get_all_records
;	calla	get_all_records

	JSRP	new_page
	JSRP	amode_design
	JSRP	show_nba_plyrs
	JSRP	show_hiscore
	.if	OPERMES
	JSRP	show_operatormsg
	.endif	;OPERMES
	JSRP	creditscreen
	JSRP	demogame
	SOUND1	tuneend_snd

	JSRP	hint_page2
	JSRP	show_hiscore
	.if	TRIVCON
	.ref	show_prizes
	JSRP	show_prizes
	.endif	;TRIVCON
	JSRP	creditscreen
	JSRP	demogame
	SOUND1	tuneend_snd

	JSRP	result_screen
	JSRP	show_nba_plyrs
	JSRP	new_page
	JSRP	show_title
	JSRP	show_copyright
	.if	OPERMES
	JSRP	show_operatormsg
	.endif	;OPERMES
	JSRP	creditscreen
	JSRP	demogame
	SOUND1	tuneend_snd

	move	@amodeloop,a0
	inc	a0
	move	a0,@amodeloop
	srl	1,a0
	jrnc	bgupno_aama
	JSRP	show_aama
bgupno_aama
	move	@amodeloop,a0
	andi	3,a0
	subk	2,a0			;Show on non-zero loop count
	jrnz	bgupchknxt
	JSRP	show_designteam
bgupchknxt
	.if	TRIVCON
	move	@amodeloop,a0
	andi	03fH,a0
	jrnz	bguplp
	JSRP	trivia_rules
	.endif	;TRIVCON
;DJT End
	jruc	bguplp


	.def	pObj
	.bss	pObj,32


;DJT Start
****************************************************************
* Attract design player screen

	.ref	design_player_proc_amode,done_creating
	.ref	get_all_records,sort_wins
	BSSX	stick_amode_mkplr,16

amode_design

	calla	WIPEOUT
	movk	1,a0
	move	a0,@dpageflip
	ADJUST	ADJMUSIC		;Get demo sound on/off adj
	move	a0,@SOUNDSUP

	movk	1,a0
	move	a0,@done_creating	;exit flag (1=dont exit, 0=exit)

	calla	get_all_records
	calla	sort_wins

	CREATE0	design_player_proc_amode

	movi	2*TSEC,a11
	movi	xqcvstick_t,a8
xqcvlp
	move	*a8+,a10
	jrn	xqcvxb
	move	*a8+,a0
xqcvlp1a
	move	a0,@stick_amode_mkplr
xqcvlp1
	SLEEPK	1
	move	a11,a11
	jrnz	xqcvnob

	calla	get_all_buttons_cur2
	jrz	xqcvnob1

      	clr	a0
	move	a0,@SOUNDSUP		;turn all sounds on
	SOUND1	bounce_snd
	movk	1,a0
	move	a0,@SOUNDSUP		;turn all sounds off
	jruc	xqcvxb
xqcvnob
	subk	1,a11
xqcvnob1
	clr	a0
	dsj	a10,xqcvlp1a
	jruc	xqcvlp

xqcvxb
	clr	a0
	move	a0,@stick_amode_mkplr

	movi	CYCPID,A0
	calla	KIL1C
	calla	pal_clean

	.asg	16,FRATE
	clr	a10
	movk	FRATE,a11
	CREATE0	fade_down

	SLEEP	1+(256/FRATE)+3

      	clr	a0
	move	a0,@SOUNDSUP		;turn all sounds on
	SOUND1	tuneend_snd
	movk	1,a0
	move	a0,@SOUNDSUP		;turn all sounds off

	calla	WIPEOUT
	RETP

xqcvstick_t
	.word	110,0000000b
	.word	8,  0000010b
	.word	8,  0001000b
	.word	25, 0010000b
	.word	8,  0001000b
	.word	8,  0001000b
	.word	8,  0001000b
	.word	8,  0000010b
	.word	25, 0010000b
	.word	8,  0000100b
	.word	25, 0010000b
	.word	8,  0000010b
	.word	8,  0000010b
	.word	8,  0000010b
	.word	8,  0000100b
	.word	8,  0000100b
	.word	8,  0000100b
	.word	25, 0010000b
	.word	8,  0000001b
	.word	8,  0000001b
	.word	8,  0000001b
	.word	8,  0001000b
	.word	8,  0001000b
	.word	8,  0001000b
	.word	8,  0001000b
	.word	25, 0010000b
	.word	8,  0000010b
	.word	8,  0000010b
	.word	8,  0000010b
	.word	70, 0010000b

	.word	8,  0001000b
	.word	25, 0010000b
	.word	8,  0000010b
	.word	8,  0000100b
	.word	25, 0010000b
	.word	8,  0001000b
	.word	8,  0001000b
	.word	25, 0010000b
	.word	8,  0000010b
	.word	8,  0000100b
	.word	140,0010000b

	.word	50, 0010000b
	.word	40, 0000010b
	.word	70, 0010000b

	.word	30, 0000100b
	.word	60, 0000100b
	.word	30, 0001000b
	.word	30, 0001000b
	.word	30, 0001000b
	.word	30, 0001000b
	.word	30, 0001000b
	.word	60, 0001000b
	.word	30, 0000100b
	.word	30, 0000100b
	.word	70, 0000100b
	.word	40, 0010000b

	.word	20, 0000010b
	.word	40, 0000010b
	.word	70, 0010000b

	.word	20, 0000100b
	.word	20, 0000100b
	.word	40, 0000100b
	.word	20, 0001000b
	.word	20, 0001000b
	.word	20, 0001000b
	.word	20, 0001000b
	.word	20, 0001000b
	.word	40, 0001000b
	.word	25, 0000010b
	.word	40, 0001000b
	.word	20, 0000100b
	.word	20, 0000100b
	.word	40, 0000100b
	.word	15, 0000010b
	.word	25, 0000010b
	.word	20, 0000100b
	.word	40, 0000100b
	.word	25, 0000010b
	.word	20, 0001000b
	.word	40, 0001000b
	.word	25, 0000010b
	.word	20, 0001000b
	.word	40, 0001000b
	.word	25, 0000010b
	.word	20, 0000100b
	.word	40, 0000100b
	.word	25, 0000010b
	.word	20, 0001000b
	.word	20, 0001000b
	.word	80, 0001000b
	.word	40, 0010000b

	.word	40, 0000010b
	.word	60, 0010000b

	.word	50, 0000100b
	.word	50, 0000100b
	.word	15, 0000010b
	.word	15, 0000010b
	.word	50, 0000100b
	.word	15, 0000010b
	.word	15, 0000010b
	.word	100,0000100b
	.word	50, 0010000b

	.word	40, 0000010b
	.word	60, 0010000b

	.word	40, 0001000b
	.word	15, 0000010b
	.word	15, 0000010b
	.word	15, 0000010b
	.word	25, 0000010b
	.word	40, 0001000b
	.word	15, 0000010b
	.word	15, 0000010b
	.word	15, 0000010b
	.word	25, 0000010b
	.word	40, 0001000b
	.word	15, 0000001b
	.word	15, 0000001b
	.word	15, 0000001b
	.word	15, 0000001b
	.word	50, 0000001b
	.word	50, 0010000b

	.word	20, 0000001b
	.word	20, 0000001b
	.word	40, 0000001b
	.word	60, 0010000b

	.word	15, 0000001b
	.word	40, 0000001b
	.word	15, 0000001b
	.word	15, 0000001b
	.word	15, 0000001b
	.word	15, 0000001b
	.word	15, 0000001b
	.word	50, 0000001b
	.word	40, 0010000b

	.word	15, 0000010b
	.word	15, 0000010b
	.word	15, 0000010b
	.word	15, 0000010b
	.word	80, 0000010b

	.word	-1

;DJT End

****************************************************************
* Title screen

show_title

	calla	display_blank
	calla	WIPEOUT

;DJT Start
;	.bss	junk,140*16	;quick rndper loop for hotspot
;
;	movi	junk,a8,L
;	movi	140,a9
;niucllpp
;	SLEEPK	1
;	movk	20,a0
;	calla	RNDRNG0
;	move	a0,*a8+,W
;	dsj	a9,niucllpp
;	jruc	$
;
;DJT End
	movk	1,a0
	move	a0,@dpageflip

	clr	a0
	move	a0,@dtype		;2D

	movi	SCRNEND,a0		;[256,405]
	move	a0,@SCRNLR,L

	clr	a0
	move	a0,@WORLDTLX,L
	move	a0,@WORLDTLY,L
	move	a0,@IRQSKYE

	SLEEPK	2

	movi	title_scr_mod,a0
	move	a0,@BAKMODS,L
	calla	BGND_UD1


	movk	1,a0
	move	a0,@DISPLAYON
	calla	display_unblank

;	movi	STATIC_p,a8
;	movi	cycram,a9
;	movi	[1,8],a10		;1st,last color
;	movk	2,a11			;Rate
;	CREATE	CYCPID,COLCYC
;
;	movi	P_STATIC,a8
;	movi	cycram2,a9
;	movi	[21,27],a10		;1st,last color
;	movk	2,a11			;Rate
;	CREATE	CYCPID,COLCYC
;
;	movi	P_STATIC,a8
;	movi	cycram3,a9
;	movi	[28,34],a10		;1st,last color
;	movk	2,a11			;Rate
;	CREATE	CYCPID,COLCYC
;
;	movi	P_STATIC,a8
;	movi	cycram4,a9
;	movi	[35,41],a10		;1st,last color
;	movk	2,a11			;Rate
;	CREATE	CYCPID,COLCYC
;
;	movi	P_STATIC,a8
;	movi	cycram5,a9
;	movi	[42,48],a10		;1st,last color
;	movk	2,a11			;Rate
;	CREATE	CYCPID,COLCYC
;
;	movi	P_STATIC,a8
;	movi	cycram6,a9
;	movi	[49,55],a10		;1st,last color
;	movk	2,a11			;Rate
;	CREATE	CYCPID,COLCYC
;
;	movi	P_STATIC,a8
;	movi	cycram7,a9
;	movi	[56,63],a10		;1st,last color
;	movk	2,a11			;Rate
;	CREATE	CYCPID,COLCYC


	movi	6*TSEC,a10
niuclp	SLEEPK	1
	calla	get_all_buttons_cur2
	jrz	niucnob

      	clr	a0
	move	a0,@SOUNDSUP		;turn all sounds on
	SOUND1	bounce_snd
	movk	1,a0
	move	a0,@SOUNDSUP		;turn all sounds off
	jruc	niucxb
niucnob	
	dsj	a10,niuclp
niucxb
;DJT Start
	movi	CYCPID,A0
	calla	KIL1C

	.asg	32,FRATE
	clr	a10
	movk	FRATE,a11
	CREATE0	fade_down

	SLEEP	1+(256/FRATE)+3

	calla	WIPEOUT
	RETP

title_scr_mod
	.long	maximBMOD
	.word	0,0
	.long	0
;	.long	hangtimeBMOD
;	.word	0,0
;	.long	0
;DJT End


ttl_setscl
	move	*a8(OIMG),a2,L
	movi	[0100H,0],a3
	clr	a14
	movx	a10,a14
	divu	a14,a3
;	move	*a2(IANIOFFX),a1
	movi	-106,a1
	mpys	a3,a1
	sra	16,a1
	addi	200,a1			;X base
	move	a1,*a8(OXPOS)
;	move	*a2(IANIOFFY),a1
	movi	-98,a1
	mpys	a3,a1
	sra	16,a1
	addi	124,a1			;Y base
	move	a1,*a8(OYPOS)
	move	a10,*a8(ODATA_p),L	;Set scale value
	rets


****************************************************************
* Show an operator message if one has been entered

;FIX!!!
;DJT Start
	.if	OPERMES
;DJT End

	STRUCTPD
	WORD	som_string


 SUBR	show_operatormsg


	calla	ADJ_PAGE
	movk	CMESS_LINES,a2		;0CHheck for a message
	movi	CUSTOM_MESSAGE,a7
tmxgcmlp
	calla	RC_BYTEI
	jrnz	tmxgmsg
	addi	CMESS_LINE_SIZE,a7
	dsj	a2,tmxgcmlp
	jruc	tmxgx
tmxgmsg
	calla	display_blank
	calla	WIPEOUT

	movk	1,a0
	move	a0,@dpageflip
	move	a0,@DISPLAYON
	calla	display_2dsclstarmodeon

	movk	10,a0
	move	a0,@WORLDTLX+16
	movi	1000,a0
	move	a0,@WORLDTLY+16

	SLEEPK	2

	calla	display_unblank

	CREATE0	showdt_scl


	movk	CMESS_LINES,a2		;0CHheck for a message
	movi	CUSTOM_MESSAGE,a7
	movi	[50,200],a9
tmxgprtlp
	PUSHP	a2,a7

	calla	ADJ_PAGE

	move	a13,a2
	addi	som_string,a2
tmxggetlp	calla	RC_BYTEI
	movb	a0,*a2
	addk	8,a2
	move	a0,a0
	jrnz	tmxggetlp


	movi	INGA_Y_P,a0
	calla	pal_getf
	move	a0,a6

	move	a13,a8
	addi	som_string,a8
	clr	a0
	movk	1,a10
	movi	inga16_asc_tbl,a11
	PUSHP	a9
	JSRP	STRCNRMO_1
	PULLP	a9

	movi	OBJLST,a14

tmxgolp	move	*a14,a14,L	;A14=*Next
	jrz	tmxgoend
	move	*a14(ODATA_p),a0,L
	jrnz	tmxgolp
	movi	[0320H,0320H],a1
	move	a1,*a14(ODATA_p),L
	jruc	tmxgolp
tmxgoend

	PUSHP	a6
	SLEEPK	30
	PULLP	a6
	PULLP	a2,a7
tmxgnxt
	addi	[45,0],a9

	addi	CMESS_LINE_SIZE,a7
	dsj	a2,tmxgprtlp



	SLEEP	TSEC*6

;	clr	a0
;	movi	-1,a1
;	calla	obj_delc
;
;	movi	tmxgthanx_t,a8
;	JSRP	prt_dt
;
;	SLEEP	TSEC*2+20

	JSRP	scrn_scaleout

	calla	WIPEOUT

tmxgx	RETP
;End of FIX
;DJT Start
	.endif	;OPERMES
;DJT End

*

 SUBRP	show_copyright

	calla	display_blank
	calla	WIPEOUT

	clr	a0
	move	a0,@dtype		;2D

	movk	1,a0			;page flipping on
	move	a0,@dpageflip

	movi	SCRNEND,a0		;[256,405]
	move	a0,@SCRNLR,L

	clr	a0
	move	a0,@WORLDTLX,L
	move	a0,@WORLDTLY,L
	move	a0,@IRQSKYE

	SLEEPK	2

	movi	our_legal_msg_setup,a2
	calla	setup_message
	movk	11,a0
	move	a0,@mess_line_spacing
	movi	our_legal_msg_str,a4
	calla	print_string_C2

	movi	[0a8h,0],a0
	movi	[03bh,0],a1
	.ref	hang_logo
	movi	hang_logo,a2			;* image
	movi	20000,a3
	movi	DMAWNZ|M_NOCOLL,a4
	movi	CLSDEAD,a5
	clr	a6
	clr	a7
	calla	BEGINOBJ2

	clr	a10
	movk	8,a11
	CREATE0	fade_up

	movk	1,a0
	move	a0,@DISPLAYON

	SLEEPK	2
	calla	display_unblank

	SLEEP	1*TSEC

	movi	1*TSEC,a10
ifcjlp0	SLEEPK	1
	calla	get_all_buttons_cur2
	jrz	ifcjnob0
      	clr	a0
	move	a0,@SOUNDSUP		;turn all sounds on
	SOUND1	bounce_snd
	movk	1,a0
	move	a0,@SOUNDSUP		;turn all sounds off
	jruc	ifcjxb0
ifcjnob0
	dsj	a10,ifcjlp0
ifcjxb0
	clr	a10
	movk	8,a11
	CREATE0	fade_down

	SLEEP	40

	movi	CLSDEAD,a0
	calla	obj_del1c
	movi	TYPTEXT,a0
	calla	obj_del1c

	movi	legal_msg_setup,a2
	calla	setup_message
	movk	11,a0
	move	a0,@mess_line_spacing
	movi	legal_msg_str,a4
	calla	print_string_C2

	movi	[200,0],a0
	movi	[107,0],a1
	.ref	OFFNBA
	movi	OFFNBA,a2			;* image
	movi	20000,a3
	movi	DMAWNZ|M_NOCOLL,a4
	movi	CLSDEAD,a5
	clr	a6
	clr	a7
	calla	BEGINOBJ2

	clr	a10
	movk	8,a11
	CREATE0	fade_up

	movk	1,a0
	move	a0,@DISPLAYON

	SLEEPK	2
	calla	display_unblank

	SLEEP	1*TSEC

	movi	4*TSEC,a10
ifcjlp	SLEEPK	1
	calla	get_all_buttons_cur2
	jrz	ifcjnob
      	clr	a0
	move	a0,@SOUNDSUP		;turn all sounds on
	SOUND1	bounce_snd
	movk	1,a0
	move	a0,@SOUNDSUP		;turn all sounds off
	jruc	ifcjxb
ifcjnob	
	dsj	a10,ifcjlp
ifcjxb
	clr	a10
	movk	8,a11
	CREATE0	fade_down

	SLEEP	40

	RETP

our_legal_msg_setup
	PRINT_STR	bast8t_ascii,4,0,200,140,BAST_W_P,0


our_legal_msg_str
	.string	"(C) 1996 MIDWAY MANUFACTURING COMPANY",1
	.string	"ALL RIGHTS RESERVED",0
	.even

legal_msg_setup
	PRINT_STR	bast8t_ascii,4,0,200,132,BAST_W_P,0

legal_msg_str
	.string	"THE NBA AND INDIVIDUAL NBA TEAM IDENTIFICATIONS USED",1
	.string	"ON OR IN THIS PRODUCT ARE TRADEMARKS, COPYRIGHTED",1
	.string	"DESIGNS AND OTHER FORMS OF INTELLECTUAL PROPERTY OF",1
	.string	"NBA PROPERTIES, INC. AND THE RESPECTIVE TEAMS AND MAY",1
	.string	"NOT BE USED, IN WHOLE OR IN PART, WITHOUT THE PRIOR",1
	.string	"WRITTEN CONSENT OF NBA PROPERTIES, INC.",1
	.string	"(C) 1996 NBA PROPERTIES, INC.",1
	.string	"ALL RIGHTS RESERVED",1
	.string	"ALL NBA TEAM ROSTERS ACCURATE AS OF 11/1/96",0
	.even

;DJT Start

****************************************************************

 SUBRP	show_aama

	calla	display_blank
	calla	WIPEOUT

	clr	a0
	move	a0,@dtype		;2D

	movk	1,a0			;page flipping on
	move	a0,@dpageflip

	movi	SCRNEND,a0		;[256,405]
	move	a0,@SCRNLR,L

	clr	a0
	move	a0,@WORLDTLX,L
	move	a0,@WORLDTLY,L
	move	a0,@IRQSKYE

	movi	design_tm_mod,a0
	move	a0,@BAKMODS,L
	calla	BGND_UD1

	SLEEPK	2

	movk	31,a0
	move	a0,@mess_line_spacing

	movi	aama_title_setup,a2,L
	calla	setup_message
	movi	aama_title_str,a4,L
	calla	print_string_C2

	movk	13,a0
	move	a0,@mess_line_spacing

	movi	aama_rating_setup,a2,L
	calla	setup_message
	movi	aama_rating_str,a4,L
	calla	print_string_C2

	.ref	HTSTAT03
	movi	[200-5-44-88,0],a0
	movi	[78,0],a1
	movi	HTSTAT03,a2			;* image
	movi	20000,a3
	movi	DMAWNZ|M_NOCOLL,a4
	movi	CLSDEAD,a5
	clr	a6
	clr	a7
	calla	BEGINOBJ2
	movi	[200-5-44,0],a0
	movi	[78,0],a1
	calla	BEGINOBJ2
	movi	[200-5+44,0],a0
	movi	[78,0],a1
	calla	BEGINOBJ2

;	clr	a10
;	movk	8,a11
;	CREATE0	fade_up

	movk	1,a0
	move	a0,@DISPLAYON

	SLEEPK	2
	calla	display_unblank

	SLEEP	1*TSEC

	movi	4*TSEC,a10
iegflp0	SLEEPK	1
	calla	get_all_buttons_cur2
	jrz	iegfnob0
      	clr	a0
	move	a0,@SOUNDSUP		;turn all sounds on
	SOUND1	bounce_snd
	movk	1,a0
	move	a0,@SOUNDSUP		;turn all sounds off
	jruc	iegfxb0
iegfnob0
	dsj	a10,iegflp0
iegfxb0
	clr	a10
	movk	8,a11
	CREATE0	fade_down

	SLEEP	40

	RETP

aama_title_setup
	PRINT_STR	bast18_ascii,11,0,200,56,BSTGYG_P,0

aama_rating_setup
	PRINT_STR	bast10_ascii,6,0,200,110,BAST_W_P,0

aama_title_str
	.string	"AAMA Parental Advisory",1
	.string	"K-A RATING",0

aama_rating_str
	.string	"Suitable for All Ages",1,1
	.string	"The content of this game is",1
	.string	"appropriate for players of",1
	.string	"all ages.",0
	.even


****************************************************************
* Show design team names and messages

 SUBR	show_designteam

	calla	display_blank
	calla	WIPEOUT

	movk	1,a0
	move	a0,@dpageflip

;	move	a0,@DISPLAYON
;	calla	display_2dsclstarmodeon
;	movk	10,a0
;	move	a0,@WORLDTLX+16
;	movi	1000,a0
;	move	a0,@WORLDTLY+16

	clr	a0
	move	a0,@WORLDTLX,L
	move	a0,@WORLDTLY,L

	move	*a13(PROCID),a0
	andni	1,a0
	cmpi	GRANDCHAMP_PID,a0
	jreq	spxsnotocto

	.ref	READ_DIP
	calla	READ_DIP		;Read the dipswitches
	btst	5,a0			;Is octopus bypass switch on?
	jrnz	spxsnotocto		; br=don't do audit/volume octopus
	CREATE0	ck_octopus2
spxsnotocto

	movi	design_tm_mod,a0
	move	a0,@BAKMODS,L
	calla	BGND_UD1

	SLEEPK	1

;design team

	movk	1,a0
	calla	create_title_bar

	movi	spxstitle_str_setup,a2,L
	calla	setup_message
	movi	spxsdesign_tm_str,a4
	calla	print_string_C2

	callr	create_mugs_and_names

	movk	1,a0
	move	a0,@DISPLAYON
	SLEEPK	2
	calla	display_unblank

	move	*a13(PROCID),a0
	cmpi	GRANDCHAMP_PID,a0
	jrne	spxsnotgc
	movk	INAMODE,a0
	move	a0,@GAMSTATE
spxsnotgc
	movi	TSEC*6+12,a10
	JSRP	time_delay		;SLEEP	30

	move	*a13(PROCID),a0
	cmpi	DIAG_PID,a0
	jreq	spxssclout			;Called from octopuss?

;additional design

	clr	a0
	move	a0,@DISPLAYON

	clr	a0
	movi	-1,a1
	calla	obj_delc

	movk	1,a0
	calla	create_title_bar

	movi	spxstitle_str_setup,a2,L
	calla	setup_message
	movi	spxsaddition_desgn_str,a4
	calla	print_string_C2

	movk	22,a0
	move	a0,@mess_line_spacing

	movi	spxsaddition_desgn_str_setup2,a2,L
	calla	setup_message
	movi	spxsother_gme_dsgnrs,a4
	calla	print_string_C2

	movk	1,a0
	move	a0,@DISPLAYON

	movi	TSEC*4+11,a10
	JSRP	time_delay		;SLEEP	30

;sound & music

	clr	a0
	move	a0,@DISPLAYON

	clr	a0
	movi	-1,a1
	calla	obj_delc

	movk	1,a0
	calla	create_title_bar

	movi	spxstitle_str_setup,a2,L
	calla	setup_message
	movi	spxssnd_music_str,a4
	calla	print_string_C2

	movi	spxssnd_desgn_str_setup2,a2,L
	calla	setup_message
	movi	spxssnd_dudes_str,a4
	calla	print_string_C2

	movk	1,a0
	move	a0,@DISPLAYON

	movi	TSEC*4-30+11,a10
	JSRP	time_delay		;SLEEP	30

;music

	clr	a0
	move	a0,@DISPLAYON

	clr	a0
	movi	-1,a1
	calla	obj_delc

	movk	1,a0
	calla	create_title_bar

	movi	spxstitle_str_setup,a2,L
	calla	setup_message
	movi	spxsmusic_str,a4
	calla	print_string_C2

	movi	spxssong_names_str_setup,a2,L
	calla	setup_message
	movi	spxssong_names_str,a4
	calla	print_string_C2

	movk	17,a0
	move	a0,@mess_line_spacing

	movi	spxssnd_desgn_str_setup3,a2,L
	calla	setup_message
	movi	spxssnd_dudes_str2,a4
	calla	print_string2

	movk	1,a0
	move	a0,@DISPLAYON

	movi	TSEC*4+11,a10
	JSRP	time_delay		;SLEEP	30

;actors

	clr	a0
	move	a0,@DISPLAYON

	clr	a0
	movi	-1,a1
	calla	obj_delc

	movk	1,a0
	calla	create_title_bar

	movi	spxstitle_str_setup,a2,L
	calla	setup_message
	movi	spxsactors_str,a4
	calla	print_string_C2

	callr	create_actor_mugs_and_names

	movk	1,a0
	move	a0,@DISPLAYON

	movi	TSEC*4+11,a10
	JSRP	time_delay		;SLEEP	30

;hardware support
	
	clr	a0
	move	a0,@DISPLAYON

	clr	a0
	movi	-1,a1
	calla	obj_delc

	movk	1,a0
	calla	create_title_bar

	movi	spxstitle_str_setup,a2,L
	calla	setup_message
	movi	spxshardware_str,a4
	calla	print_string_C2

	movk	22,a0
	move	a0,@mess_line_spacing

	movi	spxshardware_str_setup2,a2,L
	calla	setup_message
	movi	spxshardware_people_str,a4
	calla	print_string_C2

	movk	1,a0
	move	a0,@DISPLAYON

	movi	TSEC*4+11,a10
	JSRP	time_delay		;SLEEP	30

;nba support

	clr	a0
	move	a0,@DISPLAYON

	clr	a0
	movi	-1,a1
	calla	obj_delc

	movk	1,a0
	calla	create_title_bar

	movi	spxstitle_str_setup,a2,L
	calla	setup_message
	movi	spxsnba_help_str,a4
	calla	print_string_C2

	movi	spxsnba_help_setup2,a2,L
	calla	setup_message
	movi	spxsnba_dudes_strs,a4
	calla	print_string_C2

	movk	1,a0
	move	a0,@DISPLAYON

	movi	TSEC*3+11,a10
	JSRP	time_delay		;SLEEP	30

;sweepstakes

	clr	a0
	move	a0,@DISPLAYON

	clr	a0
	movi	-1,a1
	calla	obj_delc

	movk	1,a0
	calla	create_title_bar

	movi	spxstitle_str_setup,a2,L
	calla	setup_message
	movi	spxssweepstks_str,a4
	calla	print_string_C2

	movi	spxssponsor_str_setup,a2,L
	calla	setup_message
	movi	spxssponsor_str,a4
	calla	print_string_C2
	movi	BSTGYO_P,a14,L
	move	a14,@message_palette,L
	addk	8,a4
	calla	print_string_C2
	movi	BSTGWWOP,a14,L
	move	a14,@message_palette,L
	addk	8,a4
	calla	print_string_C2
	movi	BSTGYG_P,a14,L
	move	a14,@message_palette,L
	addk	8,a4
	calla	print_string_C2
	movi	spxssponsor_str_setup2,a2,L
	calla	setup_message
	addk	8,a4
	calla	print_string_C2

	movk	1,a0
	move	a0,@DISPLAYON

	movi	TSEC*3+11,a10
	JSRP	time_delay		;SLEEP	30

;testers

	clr	a0
	move	a0,@DISPLAYON

	clr	a0
	movi	-1,a1
	calla	obj_delc

	movk	1,a0
	calla	create_title_bar

	movi	spxstitle_str_setup,a2,L
	calla	setup_message
	movi	spxsgme_tester_str,a4
	calla	print_string_C2

	movi	spxsgme_tsters_str_setup3,a2,L
	calla	setup_message
	movi	spxsgme_tstrs_str,a4
	calla	print_string_C2

	movk	1,a0
	move	a0,@DISPLAYON

	movi	TSEC*3+11,a10
	JSRP	time_delay		;SLEEP	30

;additional testers

	clr	a0
	move	a0,@DISPLAYON

	clr	a0
	movi	-1,a1
	calla	obj_delc

	movk	1,a0
	calla	create_title_bar

	movi	spxstitle_str_setup,a2,L
	calla	setup_message
	movi	spxsgme_tester_str2,a4
	calla	print_string_C2

	movi	spxsgme_tsters_str_setup2,a2,L
	calla	setup_message
	movi	spxsgme_tstrs_str2,a4
	calla	print_string_C2

	movk	1,a0
	move	a0,@DISPLAYON

	movi	TSEC*4+11,a10
	JSRP	time_delay		;SLEEP	30

;special thanks

	clr	a0
	move	a0,@DISPLAYON

	clr	a0
	movi	-1,a1
	calla	obj_delc

	movk	1,a0
	calla	create_title_bar

	movi	spxstitle_str_setup,a2,L
	calla	setup_message
	movi	spxsthanks_str,a4
	calla	print_string_C2

	movk	13,a0
	move	a0,@mess_line_spacing

	movi	spxsthanks_str_setup2,a2,L
	calla	setup_message
	movi	spxsthanx_you_strs,a4
	calla	print_string2

	movi	spxsthanks_str_setup3,a2,L
	calla	setup_message
	movi	spxsthanx_you_strs2,a4
	calla	print_string2

	movk	1,a0
	move	a0,@DISPLAYON

	movi	TSEC*6+11,a10
	JSRP	time_delay		;SLEEP	30

;executive producers

	clr	a0
	move	a0,@DISPLAYON

	clr	a0
	movi	-1,a1
	calla	obj_delc

	movk	1,a0
	calla	create_title_bar

	movi	spxstitle_str_setup,a2,L
	calla	setup_message
	movi	spxsexec_producers_str,a4
	calla	print_string_C2

	movk	25,a0
	move	a0,@mess_line_spacing

	movi	spxsexec_producers_str_setup2,a2,L
	calla	setup_message
	movi	spxsproducers_str,a4
	calla	print_string_C2

	movk	1,a0
	move	a0,@DISPLAYON

	movi	TSEC*4+11,a10
	JSRP	time_delay		;SLEEP	30


spxssclout
	clr	a0
	movi	-1,a1
	calla	obj_delc

	RETP


spxstitle_str_setup
	PRINT_STR	brush20_ascii,11,0,200,7,BRSHGYGP,0


spxsaddition_desgn_str_setup2
	PRINT_STR	bast18_ascii,11,0,200,60,BSTGWWOP,0

spxssnd_desgn_str_setup2
	PRINT_STR	bast18_ascii,11,0,200,85,BSTGWWOP,0

spxssnd_desgn_str_setup3
	PRINT_STR	bast10_ascii,6,0,30,90,BAST_W_P,0

spxssong_names_str_setup
	PRINT_STR	bast10_ascii,6,0,200,40,BAST_G_P,0

spxshardware_str_setup2
	PRINT_STR	bast18_ascii,11,0,200,45,BSTGWWOP,0

spxsnba_help_setup2
	PRINT_STR	bast18_ascii,11,0,200,100-30,BSTGWWOP,0

spxssponsor_str_setup
	PRINT_STR	bast18_ascii,11,0,200,65,BST18T_P,0

spxssponsor_str_setup2
	PRINT_STR	bast10_ascii,11,0,284,152,BAST_Y_P,0

spxsgme_tsters_str_setup2
	PRINT_STR	bast18_ascii,11,0,200,45,BSTGWWOP,0

spxsgme_tsters_str_setup3
	PRINT_STR	bast18_ascii,11,0,200,100,BSTGWWOP,0

spxsthanks_str_setup2
	PRINT_STR	bast10_ascii,5,0,35,52,BAST_W_P,0

spxsthanks_str_setup3
	PRINT_STR	bast10_ascii,5,0,225,52,BAST_W_P,0

spxsexec_producers_str_setup2
	PRINT_STR	bast18_ascii,11,0,200,75,BSTGWWOP,0


spxsdesign_tm_str
	.string	"DESIGN TEAM:",0

spxsaddition_desgn_str
	.string	"ADDITIONAL DESIGN:",0

spxssnd_music_str
	.string	"SOUND AND MUSIC:",0

spxsmusic_str
	.string	"MUSIC:",0

spxsactors_str
	.string	"ACTORS:",0

spxshardware_str
	.string	"HARDWARE SUPPORT:",0

spxsnba_help_str
	.string	"NBA SUPPORT:",0

spxssweepstks_str
	.string	"MAXIMUM SWEEPSTAKES:",0

spxsgme_tester_str
	.string	"GAME TESTERS:",0

spxsgme_tester_str2
	.string	"ADDITIONAL TESTERS:",0

spxsthanks_str
	.string	"SPECIAL THANKS:",0

spxsexec_producers_str
	.string	"EXECUTIVE PRODUCERS:",0

	.even
;DJT End


*****************************************************************
*****************************************************************
 SUBRP	create_mugs_and_names
      
	movi	spxsmugs_t,a9,L
cm_1	
	move	*a9+,a2,L	
	move	*a9+,a0,W
	move	*a9+,a1,W	
	PUSH	a0,a1
	sll	16,a0			;X
	sll	16,a1			;Y
	movi	500,a3			;Z
	movi	DMAWNZ|M_NOCOLL|M_SCRNREL,a4
	movi	CLSDEAD,a5
	clr	a6
	clr	a7
	calla	BEGINOBJ2
	PULL	a0,a1

	subk	25,a0		;26
	sll	16,a0			;X
	subk	10,a1
	sll	16,a1			;Y

	movi	MUGPLAT,a2
	movi	400,a3				;z pos
	calla	BEGINOBJ2

	cmpi	spxsmugs_t_end,a9
	jrlo	cm_1

;create our names
	movi	spxsname_tm_str_setup,a2,L
	calla	setup_message

	movk	10,a0
	move	a0,@mess_line_spacing

	movi	spxsmugs_names_t,a9
cm_2	
	move	*a9+,a0,W
	move	a0,@mess_cursx
	move	*a9+,a0,W
	move	a0,@mess_cursy
	move	*a9+,a4,L
	calla	print_string_C2
	cmpi	spxsmugs_names_t_end,a9
	jrlo	cm_2

;create logo
;	movi	[170,0],a0
;	movi	[108,0],a1
;	movi	hang_logo,a2			;* image
;	movi	3000,a3
;	movi	DMAWNZ|M_NOCOLL,a4
;	movi	CLSDEAD,a5
;	clr	a6
;	clr	a7
;	calla	BEGINOBJ2
	rets


spxsmugs_t
	LWW	JEF_MUG,35,110
	LWW	TUR_MUG,120,110
	LWW	SAL_MUG,205,110
	LWW	DAN_MUG,290,110

	LWW	EUG_MUG,35,220
	LWW	JEN_MUG,120,220
	LWW	JMC_MUG,205,220
	LWW	HEY_MUG,290,220
spxsmugs_t_end

spxsmugs_names_t
	WWL	 65,113,spxsjeff_j
	WWL	153,113,spxsmark_t
	WWL	237,113,spxssal_d
	WWL	320,113,spxsdan_t

	WWL	 67,223,spxseug_g
	WWL	152,223,spxsjen_h
	WWL	235,223,spxsjohn_c
	WWL	320,223,spxsjon_h
spxsmugs_names_t_end


spxsname_tm_str_setup
	PRINT_STR	bast8t_ascii,4,0,200,7,BAST_Y_P,0


spxsmark_t
	.string	"MARK",1
	.string	"TURMELL",0
spxssal_d
	.string	"SAL",1
	.string	"DIVITA",0
spxsjeff_j
	.string	"JEFF",1
	.string	"JOHNSON",0
spxsdan_t	
	.string	"DAN",1
	.string	"THOMPSON",0
spxseug_g	
	.string	"EUGENE",1
	.string	"GEER",0
spxsjohn_c	
	.string	"JOHN",1
	.string	"CARLTON",0
spxsjen_h
	.string	"JENNIFER",1
	.string	"HEDRICK",0
spxsjon_h
	.string	"JON",1
	.string	"HEY",0
	.even


*****************************************************************
*****************************************************************
 SUBRP	create_actor_mugs_and_names
      
	movi	spxsactor_mugs_t,a9,L
acm_1	
	move	*a9+,a2,L	
	move	*a9+,a0,W
	move	*a9+,a1,W	
	PUSH	a0,a1
	sll	16,a0			;X
	sll	16,a1			;Y
	movi	500,a3			;Z
	movi	DMAWNZ|M_NOCOLL|M_SCRNREL,a4
	movi	CLSDEAD,a5
	clr	a6
	clr	a7
	calla	BEGINOBJ2
	PULL	a0,a1

	subk	25,a0		;26
	sll	16,a0			;X
	subk	10,a1
	sll	16,a1			;Y

	movi	MUGPLAT,a2
	movi	400,a3				;z pos
	calla	BEGINOBJ2

	cmpi	spxsactor_mugs_t_end,a9
	jrlo	acm_1

;create names
	movi	spxsname_tm_str_setup,a2,L
	calla	setup_message
	movk	11,a0
	move	a0,@mess_line_spacing

	movi	spxsactor_names_t,a9,L
acm_2	
	move	*a9+,a0,W
	move	a0,@mess_cursx
	move	*a9+,a0,W
	move	a0,@mess_cursy
	move	*a9+,a4,L
	calla	print_string_C2
	cmpi	spxsactor_names_t_end,a9
	jrlo	acm_2
	rets


spxsactor_mugs_t
	LWW	WIL_MUG, 74,110
	LWW	BAR_MUG,159,110
	LWW	MIN_MUG,244,110
;	LWW	NEI_MUG,290,110

;	LWW	MDOC_MUG,35,220
;	LWW	JAB_MUG,120,220
	LWW	MAR_MUG,120,220
	LWW	KIM_MUG,205,220
spxsactor_mugs_t_end


spxsactor_names_t
	WWL	104,113,spxswilly_m
	WWL	192,113,spxssteve_b
	WWL	276,113,spxsminifee
;	WWL	320,113,spxsneil_f

;	WWL	 67,223,spxsmdoc
;	WWL	152,223,spxsjabbal
	WWL	152,223,spxscherldr1
	WWL	235,223,spxscherldr2
spxsactor_names_t_end


spxswilly_m
	.string	"WILLIE",1
	.string	"MORRIS JR.",0
spxssteve_b
	.string	"STEVE",1
	.string	"BARDO",0
spxsminifee
	.string	"MARCUS",1
	.string	"MINIFEE",0
spxsmdoc
	.string	"M.DOC",0
spxsjabbal
	.string	"JABBAL",0
spxsneil_f
	.string	"NEIL",1
	.string	"FUNK",0
spxscherldr2
	.string	"KIM",1
	.string	"KELLER",0
spxscherldr1
	.string	"MARY JANE",1
	.string	"LEE",0
;DJT Start


spxsother_gme_dsgnrs
	.string	"SHAWN LIPTAK",1
	.string	"JAMIE RIVETT",1
	.string	"PAT FITZGERALD",1
	.string	"JOHN ROOT",1
	.string	"MARTY MARTINEZ",1
	.string	"CARLOS PESINA",1
	.string	"NICK ERHLICH",0

spxssnd_dudes_str
	.string	"JON HEY",1
	.string	"KEVIN QUINN",1
	.string	"NEIL FUNK",0

spxssong_names_str
	.string	"'GET UP GET UP'",1
	.string	"'HANGTIME - WHATCHA GONNA DO'",0
	.even

spxssnd_dudes_str2
	.string	"MUSIC PRODUCED BY:",1
	.string	"          M.DOC OF INDASOUL PRODUCTIONS",1
	.string	"SONGS WRITTEN BY:  RHYME",1
	.string	"RAP BY:  RHYME",1
	.string	"BACKGROUNDS BY:  M.DOC AND BELOW ZERO",1
	.string	"VOX ON DANCE TRACK BY:  M.DOC",1
	.string	"MIX ENGINEER:  JOEY 'THE DON' DONATELLO",1
	.string	"INDASOUL CONTACT:  JABBAR STEVENSON",1
	.string	"                            (312) 280-8449",0

spxshardware_people_str
	.string	"MARK LOFFREDO",1
	.string	"SHERIDAN OURSLER",1
	.string	"PAT COX",1
	.string	"AL LASKO",1
	.string	"JEFF PETERS",1
	.string	"CARY MEDNICK",1
	.string	"RAY GAY",1
	.string	"STEVE CORREL",1
	.string	"JOHN LOWES",0

spxsnba_dudes_strs
	.string	"GREG LASSEN",1
	.string	"JOE AMATI",1
	.string	" ",1
	.string	"UNITED CENTER",1
	.string	"JONATHAN ZIRIN",0

spxssponsor_str
	.string	"MAXIMUM",1,0
	.string	"NBA HANGTIME",1,0
	.string	"SWEEPSTAKES",1
	.string	"IS CO-SPONSORED BY",1
	.string	"AND",0
	.string	"EGM      EGM",0
	.string	"2",0

spxsgme_tstrs_str
	.string	"MIKE VINIKOUR",1
	.string	"EDDIE FERRIER",0

spxsgme_tstrs_str2
	.string	"KEVIN DAY",1
	.string	"BUD FLETCHER",1
	.string	"ERIC C. WARD",1
	.string	"MIKE MALLARD",1
	.string	"SEAN JENNINGS",1
	.string	"ROB GORSKI",1
;	.string	"DIMITRI",1
	.string	"ALFRED MONTEGUE",1
	.string	"QUIANA LAHORI",1
	.string	"MARIUS MATEESCU",0

spxsthanx_you_strs
	.string	"EUGENE JARVIS",1
	.string	"ED BOON",1
	.string	"GEORGE PETRO",1
	.string	"TONY GOSKIE",1
	.string	"JOHN TOBIAS",1
	.string	"STEVE BERAN",1
	.string	"TODD ALLEN",1
	.string	"WARREN DAVIS",1
	.string	"RAY KIRKLAND",1
	.string	"BETTY PURCELL",1
	.string	"DR. AUSMAN",1
	.string	"DR. ABOOD",1
	.string	"JOSH TSUI",0

spxsthanx_you_strs2
	.string	"MIKE LYNCH",1
	.string	"JASON SKILES",1
	.string	"L.E.D.",1
	.string	"JIM GREENE",1
	.string	"ART TIANIS",1
	.string	"JIM TIANIS",1
	.string	"ANDY LYCKE",1
	.string	"JOAN FAUX",1
	.string	"CHRISTA WOSS",1
	.string	"CLAUDIA RIEDENER",1
	.string	"FELECIA TURMELL",1
	.string	"LAURIE THOMPSON",1
	.string	"CHRISTINE JOHNSON",0

spxsproducers_str
	.string	"NEIL NICASTRO",1
	.string	"KEN FEDESNA",1
	.string	"PAUL DUSSAULT",1
	.string	"ROGER SHARPE",0

	.even

;DJT End
;	.string	"MANY INTERNET USERS",0
;	.string	"RANDOLPH VANCE",0
;	.string	"WILLIAM HENDERSON",0
;	.string	"RAY KIRKLAND",0
;	.string	"MIKE DAVIDSON",0
;	.string	"LEWIS PODLASZEWSKI",0
;	.string	"ANDREW PODLASZEWSKI",0
;	.string	"SEAN STEWART",0
;	.string	"CHRIS JOHNSON",0
;	.string	"CHRIS CANIANO",0
;	.string	"ERIC HOLMA",0
;	.string	"MIKE OVERBY",0
;	.string	"CASEY",0
;	.string	"VINCE FIELDS",0
;	.string	"DAVE EDENZON",0
;	.string	"RIC RORSCHACH",0
;	.string	"DARYL GREEN",0
;	.string	"JERRY CATTELL",0
;	.string	"SHAWN PETREN",0
;	.string	"CHUCK HOROWITZ",0
;	.string	"MACE",0
;	.string	"JIM HSU",0
;	.string	"JASON DRISKO",0
;	.string	"CARL CHAVEZ",0
;	.even

design_tm_mod
	.long	BKGDBMOD
	.word	0,0
	.long	0

;*******************************
;* A8=*Data
;
; SUBRP	prt_dt
;	jruc	spxsnxt
;
;spxsprtlp
;	cmpi	-1,a0
;	jrne	spxsnopal
;
;	move	*a8+,a0,L	;0CHhange pal
;	calla	pal_getf
;	move	a0,a6
;	jruc	spxsnxt
;
;spxsnopal
;	cmpi	-2,a0		;>New XY
;	jrne	spxsnoxy
;	move	*a8+,a9,L
;	jruc	spxsnxt
;
;spxsnoxy
;	subk	16,a8
;	clr	a0
;	movk	1,a10
;	movi	bast10_ascii,a11
;	PUSHP	a9
;
;	cmpi	thanx_t,a8
;	jrge	spxscn
;
;	move	*a8+,a0,W
;	move	a0,@mess_cursx
;	move	*a8+,a0,W
;	move	a0,@mess_cursy
;	move	*a8+,a4,L
;	calla	print_string_C2
;;	JSRP	STRLNRMO_1
;	jruc	spxscnx
;
;spxscn
;	move	a8,a4
;	calla	print_string_C2
;;	JSRP	STRCNRMO_1
;spxscnx
;	PULLP	a9
;
;	addk	15,a8
;	srl	4,a8
;	sll	4,a8
;	move	*a8+,a2,L
;	jrz	spxsnoobj			;No object?
;
;	move	*a8+,a0,L
;	PUSH	a6,a8
;
;	addxy	a9,a0
;	clr	a1
;	movy	a0,a1			;Y
;	sll	16,a0			;X
;	movi	500,a3			;Z
;	movi	DMAWNZ|M_NOCOLL|M_SCRNREL,a4
;	movi	CLSDEAD,a5
;	clr	a6
;	clr	a7
;	calla	BEGINOBJ2
;
;	PULL	a6,a8
;spxsnoobj
;	addi	[30,0],a9
;	cmpi	thanx_t,a8
;	jrge	spxscn2
;	addi	[0,15],a9
;spxscn2
;
;;	movi	OBJLST,a14
;;
;;spxsolp	move	*a14,a14,L	;A14=*Next
;;	jrz	spxsoend
;;	move	*a14(ODATA_p),a0,L
;;	jrnz	spxsolp
;;	movi	[0320H,0320H],a1
;;	move	a1,*a14(ODATA_p),L
;;	jruc	spxsolp
;;spxsoend
;
;	PUSHP	a6
;	SLEEPK	20
;	PULLP	a6
;spxsnxt
;	move	*a8+,a0
;	jrnz	spxsprtlp
;	RETP


;*******************************
;* A8=*Data
;
; SUBRP	prt_dt2
;	jruc	spxsnxt
;
;spxsprtlp
;	cmpi	-1,a0
;	jrne	spxsnopal
;
;	move	*a8+,a0,L	;0CHhange pal
;	calla	pal_getf
;	move	a0,a6
;	jruc	spxsnxt
;
;spxsnopal
;	cmpi	-2,a0		;>New XY
;	jrne	spxsnoxy
;	move	*a8+,a9,L
;	jruc	spxsnxt
;
;spxsnoxy
;	subk	16,a8
;	clr	a0
;	movk	1,a10
;	movi	brush20_ascii,a11
;	PUSHP	a9
;
;
;	JSRP	STRLNRMO_1
;;	JSRP	STRCNRMO_1
;	PULLP	a9
;
;	addk	15,a8
;	srl	4,a8
;	sll	4,a8
;	move	*a8+,a2,L
;	jrz	spxsnoobj			;No object?
;
;	move	*a8+,a0,L
;	PUSH	a6,a8
;
;	addxy	a9,a0
;	clr	a1
;	movy	a0,a1			;Y
;	sll	16,a0			;X
;	movi	500,a3			;Z
;	movi	DMAWNZ|M_NOCOLL|M_SCRNREL,a4
;	movi	CLSDEAD,a5
;	clr	a6
;	clr	a7
;	calla	BEGINOBJ2
;
;	PULL	a6,a8
;spxsnoobj
;	addi	[15,0],a9
;
;;	movi	OBJLST,a14
;;
;;spxsolp	move	*a14,a14,L	;A14=*Next
;;	jrz	spxsoend
;;	move	*a14(ODATA_p),a0,L
;;	jrnz	spxsolp
;;	movi	[0320H,0320H],a1
;;	move	a1,*a14(ODATA_p),L
;;	jruc	spxsolp
;;spxsoend
;
;	PUSHP	a6
;	SLEEPK	10
;	PULLP	a6
;spxsnxt
;	move	*a8+,a0
;	jrnz	spxsprtlp
;	RETP


;
; Font table for OPERATOR MESSAGE
;
	.def	inga16_asc_tbl
inga16_asc_tbl
	.long	INGA16EXC,INGA16APO,INGA16NUM,INGA16DOL		;!"#$
	.long	INGA16PCT,INGA16SPC,INGA16APO,INGA16PRL		;%&'(
	.long	INGA16PRR,INGA16SPC,INGA16ADD,INGA16COM		;)*+,
	.long	INGA16SUB,INGA16PER,INGA16SLS			;-./
	.long	INGA16_0,INGA16_1,INGA16_2,INGA16_3,INGA16_4
	.long	INGA16_5,INGA16_6,INGA16_7,INGA16_8,INGA16_9
	.long	INGA16COL,INGA16SPC,INGA16SPC,INGA16SPC		;:;<=
	.long	INGA16SPC,INGA16QUE,INGA16SPC			;>?@
	.long	INGA16_A,INGA16_B,INGA16_C,INGA16_D
	.long	INGA16_E,INGA16_F,INGA16_G,INGA16_H
	.long	INGA16_I,INGA16_J,INGA16_K,INGA16_L
	.long	INGA16_M,INGA16_N,INGA16_O,INGA16_P
	.long	INGA16_Q,INGA16_R,INGA16_S,INGA16_T
	.long	INGA16_U,INGA16_V,INGA16_W,INGA16_X
	.long	INGA16_Y,INGA16_Z
	.long	INGA16SPC,INGA16SPC,INGA16SPC,INGA16END		;[\]^
	.long	INGA16DEL,INGA16APO,BAST10SPC			;_`
;	.endif
;	.def	inga16_asc_tbl
;inga16_asc_tbl



*******************************
* Look at the buttons, read a sequence table,
* and set octopus2 flag if sequence successful


ck_octopus2

	clr	a10
	movi	butn_lst,a9

stislp	SLEEPK	1

	move	@SWITCH,a0
	zext	a0
	cmpi	0ffffH,a0
	jrnz	stistag1
	clr	a11
	jruc	stislp

stistag1	move	a11,a11
	jrnz	stislp

	inc	a11

	move	*a9,a1,W
	zext	a1
	cmp	a0,a1
	jrz	stisyes
	movi	butn_lst,a9
	jruc	stislp
stisyes	addk	16,a9
	move	*a9,a0
	jrnz	stislp
	movk	1,a0
	move	a0,@octopus2		

	DIE

butn_lst

;Buttons required for 2nd octopus:
;p1turbo,p1turbo,p2shoot,p2shoot,p2shoot,p2pass,p2pass,p1shoot,p1pass,p2turbo
;p2turbo,p1turbo,p1turbo,p1turbo,p1turbo

	.word	0ffbfH,0ffbfH,0efffH,0efffH,0efffH,0dfffH,0dfffH
	.word	0ffefH,0ffdfH,0bfffH,0bfffH,0ffbfH,0ffbfH,0ffbfH,0ffbfH,0


;*******************************
;
;showdt_scl
;stislp
;	movi	OBJLST,a14
;
;stisolp	move	*a14,a14,L	;A14=*Next
;	jrz	stisoend
;	move	*a14(ODATA_p),a0,L
;	cmpi	[0100H,0100H],a0
;	jrle	stisolp
;	subi	[010H,010H],a0
;	move	a0,*a14(ODATA_p),L
;	jruc	stisolp
;stisoend
;	SLEEPK	1
;	jruc	stislp


*****************************************************************************

	.if	0

 SUBRP	drw_love

	calla	display_blank
	calla	WIPEOUT

	clr	a0
	move	a0,@dtype		;2D

	movk	1,a0			;page flipping on
	move	a0,@dpageflip

	movi	SCRNEND,a0		;[256,405]
	move	a0,@SCRNLR,L

	clr	a0
	move	a0,@WORLDTLX,L
	move	a0,@WORLDTLY,L
	move	a0,@IRQSKYE

	SLEEPK	2

	movi	xqtrlove_mod,a0
	move	a0,@BAKMODS,L
	calla	BGND_UD1

	clr	a10
	movk	16,a11
	CREATE0	fade_up

	movk	1,a0
	move	a0,@DISPLAYON

	SLEEPK	2
	calla	display_unblank

	SLEEP	1*TSEC+30

	movi	4*TSEC,a10
xqtrlp	SLEEPK	1
	calla	get_all_buttons_cur2
	jrz	xqtrnob
;      	clr	a0
;	move	a0,@SOUNDSUP		;turn all sounds on
	SOUND1	bounce_snd
;	movk	1,a0
;	move	a0,@SOUNDSUP		;turn all sounds off
	jruc	xqtrxb
xqtrnob	
	dsj	a10,xqtrlp
xqtrxb

	clr	a10
	movk	8,a11
	CREATE0	fade_down

	SLEEP	40

	RETP

xqtrlove_mod
	.long	loveBMOD
	.word	1ch,14h
	.long	0


*****************************************************************************

 SUBRP	drw_school

	calla	display_blank
	calla	WIPEOUT

	clr	a0
	move	a0,@dtype		;2D

	movk	1,a0			;page flipping on
	move	a0,@dpageflip

	movi	SCRNEND,a0		;[256,405]
	move	a0,@SCRNLR,L

	clr	a0
	move	a0,@WORLDTLX,L
	move	a0,@WORLDTLY,L
	move	a0,@IRQSKYE

	SLEEPK	2

	movi	[200,0],a0
	movi	[60-26,0],a1
	movi	stay,a2			;* image
	movi	19001,a3			;z pos
	movi	DMAWNZ|M_SCRNREL,a4		;DMA flags
	movi	0,a5				;object ID
	clr	a6				;x vel
	clr	a7				;y vel
	calla	BEGINOBJ2

	clr	a10
	movk	16,a11
	CREATE0	fade_up

	movk	1,a0
	move	a0,@DISPLAYON

	SLEEPK	2

	calla	display_unblank

	SLEEP	1*TSEC+30

	movi	3*TSEC,a10
ljiclp	SLEEPK	1
	calla	get_all_buttons_cur2
	jrz	ljicnob
;      	clr	a0
;	move	a0,@SOUNDSUP		;turn all sounds on
	SOUND1	bounce_snd
;	movk	1,a0
;	move	a0,@SOUNDSUP		;turn all sounds off
	jruc	ljicxb
ljicnob	
	dsj	a10,ljiclp
ljicxb

	clr	a10
	movk	8,a11
	CREATE0	fade_down

	SLEEP	40

	RETP

	.endif





***************************************************************
* Show some gameplay

 SUBRP	demogame

	calla	display_blank
	calla	WIPEOUT			;CLEAN SYSTEM OUT

;DJT Start
	movi	-1,a0
	.ref	t1ispro,t2ispro
	move	a0,@t1ispro
	move	a0,@t2ispro
;DJT End
	move	a0,@special_heads,L
	move	a0,@special_heads+20h,L
	clr	a0
	move	a0,@pup_showshotper
	move	a0,@pup_noassistance

	movk	NUM_TEAMS-1,a0
	calla	RNDRNG0
;TEMP!!!
;DJT Start
;	movk	19,a0		;Team #
;DJT End
	move	a0,@team1		;Team controlled by plyrs 1 & 2
	move	a0,a8
edzxagn	movk	NUM_TEAMS-1,a0
	calla	RNDRNG0
	cmp	a0,a8
	jreq	edzxagn
;TEMP!!!
;DJT Start
;	movk	19,a0		;Team #
;DJT End
    	move	a0,@team2		;Team controlled by plyrs 3 & 4

;DJT Start
	move	@otdloop,a14
	move	a14,a0
	addk	1,a0
	cmpi	NUM_DEMOPUPS,a0
	jrlo	edzxotd
	clr	a0
edzxotd
	move	a0,@otdloop
	sll	4,a14
	addi	demopups,a14,L
	move	*a14,a14

	movk	1,a0
	and	a14,a0
	move	a0,@pup_court

	srl	1,a14
	movk	1,a0
	and	a14,a0
	move	a14,@pup_aba

	movk	15,a0
;	calla	RNDRNG0
	.ref	pup_showhotspots
	move	a0,@pup_showhotspots

	movi	player1_data,a2,L
	callr	demo_cp_rndper
	movi	player2_data,a2,L
	callr	demo_cp_rndper
	movi	player3_data,a2,L
	callr	demo_cp_rndper
	movi	player4_data,a2,L
	callr	demo_cp_rndper

	SOUND1	tuneend_snd

	ADJUST	ADJMUSIC		;Get demo sound on/off adj
	move	a0,@SOUNDSUP
;DJT End
	JRNZ	NONO1
	CREATE0	sndstrt
NONO1

	CREATE0	demogame_start

;	CREATE0	drwnbalogo

	SLEEPK	5
	calla	update_insert

	SLEEP	3*TSEC

edzxloop
;FIX!!!
	movi	27*60,a10
;	movi	50*60,a10
edzxlp	SLEEPK	2
	calla	get_all_buttons_cur2
	jrz	edzxnob
      	clr	a0
	move	a0,@SOUNDSUP		;turn all sounds on
	SOUND1	bounce_snd
	movk	1,a0
	move	a0,@SOUNDSUP		;turn all sounds off
	jruc	edzxxb
edzxnob	
	dsj	a10,edzxlp
edzxxb
;2/9/93
;	jruc	edzxloop

	movi	CYCPID,a0
	calla	KIL1C
	calla	pal_clean
	SLEEPK	1

	clr	a10
	movk	16,a11
	CREATE0	fade_down

	SLEEPK	24


	calla	display_blank
	calla	WIPEOUT			;CLEAN SYSTEM OUT

	clr	a0
	move	a0,@HALT

	movk	1,a0
	move	a0,@dpageflip

	calla	COLRPRC			;Init fixed pal 0 and maybe 2nd pal
	movi	AMODE_PID,a0
	move	a0,*a13(PROCID)
	RETP


sndstrt	SLEEP	3*60
	movk	3,a0
	calla	RNDRNG0
	sll	5,a0
	addi	tunes_t,a0
	move	*a0,a0,L
	calla	snd_play1
	DIE

tunes_t
	.long	tuneq1_snd
	.long	tuneq2_snd
	.long	tuneq3_snd
	.long	tuneq4_snd

;DJT Start
	.ref	RNDPER

 SUBRP	demo_cp_rndper

	clr	a0
	movi	PR_SIZE/16,a1
edzxnhd
	move	a0,*a2+
	dsj	a1,edzxnhd
	subi	PR_SIZE,a2

	movi	140,a0			;!!!
	calla	RNDPER
	jrlo	edzxndh0

	movk	NUM_DEMOHEADS-1,a0
	calla	RNDRNG0
	sll	4,a0
	addi	demoheads,a0,L
	move	*a0,a0
	move	a0,*a2(PR_HEAD_NBR)
	movk	10,a0			;!!!
	calla	RNDRNG0
	move	a0,*a2(PR_HEIGHT_PTS)
	movk	10,a0			;!!!
	calla	RNDRNG0
	move	a0,*a2(PR_WEIGHT_PTS)

	movk	1,a0
	move	a0,*a2(PR_CREATED_PLYR)
edzxndh0
	rets


;Bit order: 1-ABA 0-Outdoor
demopups
	.word	01b,11b,01b,00b,11b,01b,10b
NUM_DEMOPUPS	.equ	($-demopups)/16

demoheads
	.word	 0, 1, 3, 5, 6,10,11,13
	.word	16,18,20,22,24,25,26,28
	.word	30
NUM_DEMOHEADS	.equ	($-demoheads)/16
	.word	0,0,0,0				;Just in case!
;DJT End

*******************************

update_insert

	calla	CR_STRTP		;Credits to start
	jrlo	nyefx			;No?
	movi	start,a1
	movi	OBJLST,a8

nyeflp	move	*a8,a8,L
	jrz	nyefx		;End?
	move	*a8(OIMG),a0,L
	cmpi	insert,a0
	jrne	nyeflp		;No match?
  	move	*a8(OFLAGS),a4
;DJT Start
	btst	B_CHARGEN,a4	;But don't change it if its a chargen name
	jrnz	nyeflp
;DJT End
	calla	ANI
	jruc	nyeflp
nyefx	rets



****************************************************************
* Show credits screen

 SUBRP	creditscreen

	calla	pal_clean

	movk	1,a10
	JSRP	CRD_SCRN2
	movi	AMODE_PID,a0
	move	a0,*a13(PROCID)
;	calla	WIPEOUT			;CLEAN SYSTEM OUT
;	SLEEPK	1

	RETP



****************************************************************
* THIS SHOULD BE CALLED IN PLACE OF ANY JRxx $
* IN CASE OF ERROR. IF WE ARE IN DEBUG MODE
* IT WILL HANG, IF NOT, THE ERROR WILL BE LOGGED
* AND IT WILL RETURN.
* A1 = RETURN ADDRESS OF CALLING ROUTINE
* A2 = ERROR CODE

ERRORLOG
	MMTM	SP,A2,A3,A4,A5,A6,A7
;	SLL	16,A2
;ERRLOGG				;A8 IS IN A8
;
;	MOVE	A13,A7		;PROC. BLOCK IN A7
;	MOVE	*A7(PROCID),A6
;	SLL	16,A6
;	MOVE	*A8(OID),A3
;	MOVX	A3,A6		;A6 = [PROCID:*A8(OID)]		
;
;;	MOVE	@CIRCUIT,A5
;;	SLL	16,A5
;;	MOVE	@WAVE,A3
;	MOVX	A3,A5		;A5 = [CIRCUIT#:WAVE#,)]
;
;	MOVI	AUD1STRT,A4	;PLAY #
;	callr	GETAUD4
;
;	SLL	16,A4
;	MOVE	*A0(OID),A3	;A4 = [STRT#:*A0(OID)]
;	MOVX	A3,A4
;
;	MOVE	@GAMSTATE,A3	;A2 = [PSTATUS:GAMSTATE]
;	MOVX	A3,A2
;
;	MOVE	@PSTATUS,A3	;A2 = [ERROR CODE:PSTATUS]
;	MOVX	A3,A2
;			
;	MOVE	*SP(0C0H),A3,L	;A3=GET THE RETURN ADDRESS
;	MOVE	*SP(0E0H),A1,L	;A1=CALLING ADDRESS
;;	CALLA	ADD_DUMP

	MMFM	SP,A2,A3,A4,A5,A6,A7
	RETS


********************************
* Get an audit
* A4=Audit #
* 0A4H=Audit

GETAUD4
	mmtm	sp,a0,a1
	move	a4,a0
	calla	GET_AUD
	calla	DEF_PAGE	     ;POINT AT DEFAULT PAGE.
	move	a1,a4
	mmfm	sp,a0,a1
	rets

*****************************************************************************
	.asg	16,YSPACE

 SUBR	show_create_plyr_info

	movk	INAMODE,a0
	move	a0,@GAMSTATE

	movi	wipe_horizontal,a0,L
	movi	CREATE_NO_DEL_OBJS,a14		;dont delete objs. when done
	JSRP	do_scrn_transition

	SLEEPK	1

	calla	KILBGND			;Kill old background
	calla	pal_clean
	clr	a0
	movi	-1,a1
	calla	obj_delc		;Kill all objs (Screen mem is clr)
	clr	a0
	clr	a1				;kill all processes
	calla	KILALL

	clr	a0
	move	a0,@WORLDTLX,L
	move	a0,@WORLDTLY,L

	SLEEPK	2

	movi	edcxhintpage_mod,a0
	move	a0,@BAKMODS,L
	calla	BGND_UD1

	movk	1,a0
	calla	create_title_bar

	movi	heading_setup,a2
	calla	setup_message
	movi	edcxcaplr_heading,a4
	calla	print_string_C2

	movi	caplr_str_setup,a2
	calla	setup_message
	movi	edcxcaplr_info_str,a4
	calla	print_string_C2

	movi	caplr_str_setup2,a2
	calla	setup_message
	movk	13,a0
	move	a0,@mess_line_spacing
	movi	edcxcaplr_info_str2,a4
	calla	print_string2

	SLEEPK	1

	movi	un_wipe_horizontal,a0,L
	movi	NO_CREATE_DEL_OBJS,a14
	JSRP	do_scrn_transition

	SLEEP	1*TSEC

	movi	14*TSEC,a10
edcxcapi1
	SLEEPK	1
	calla	get_all_buttons_cur2
	jrnz	edcxcapi2
	dsj	a10,edcxcapi1
edcxcapi2
	SOUND1	bounce_snd
 	
 	RETP



*****************************************************************************
	.asg	16,YSPACE

 SUBR	hint_page2

	calla	display_blank
	calla	WIPEOUT

	clr	a0
	move	a0,@dtype		;2D

	movk	1,a0			;page flipping on
	move	a0,@dpageflip

	clr	a0
	move	a0,@WORLDTLX,L
	move	a0,@WORLDTLY,L

	SLEEPK	1

	movi	edcxhintpage_mod,a0
	move	a0,@BAKMODS,L
	calla	BGND_UD1

	movi	[1,31],a8		;START AT COLOR 10, CYCLE 7 COLORS
	movi	BST18B2_P,a9			;PAL NAME
	movi	BSTCYCB_P,a10
	movk	2,a11			;RATE OF CYCLE IN TICKS
	CREATE	CYCPID,CYCLE_TABLE	;START PROCESS TO DO CYCLE

	movk	1,a0
	calla	create_title_bar

	movi	heading_setup,a2
	calla	setup_message
	movi	edcxstr_heading,a4
	calla	print_string_C2

	movi	YSPACE,a0
	move	a0,@mess_line_spacing

	movi	heading2_setup,a2
	calla	setup_message

;	movk	26,a0
	movi	44,a0
	calla	RNDRNG0			;0-7
	sll	5,a0			;x 32 bits
	move	a0,a9
	addi	edcxrandom_hints,a0
	move	*a0,a4,L
	calla	print_string_C2

	movi	LN1_setup,a2
	calla	setup_message

	addi	edcxrandom_hints2,a9
	move	*a9,a4,L
	calla	print_string2

	movk	1,a0
	move	a0,@DISPLAYON

	SLEEPK	2
	calla	display_unblank

	SLEEP	2*TSEC

	movi	7*TSEC,a10
edcxbutp
	SLEEPK	1
	calla	get_all_buttons_cur2
	jrz	edcxbutp1
	SOUND1	bounce_snd
	jruc	edcxbutp2
edcxbutp1
	dsj	a10,edcxbutp
edcxbutp2

	movi	CYCPID,a0
	calla	KIL1C
	RETP



*****************************************************************************
	.asg	16,YSPACE

 SUBR	hint_page

	movi	4*60,a10
edcxlp
	SLEEPK	1
	dec	a10
	jrz	edcxtvout
	move	@tvpanelon,a0,L
	jrnz	edcxlp

edcxtvout
	callr	kill_tvpanel

	SOUND1	bounce_snd

	calla	display_blank
	calla	system_savegame

	clr	a0
	move	a0,@dtype		;2D

	movk	1,a0			;page flipping on
	move	a0,@dpageflip

	movk	INPLYRINFO,a0
	move	a0,@GAMSTATE

	movi	SCRNEND,a0		;[256,405]
	move	a0,@SCRNLR,L

	clr	a0
	move	a0,@WORLDTLX,L
	move	a0,@WORLDTLY,L

	SLEEPK	2

	movi	edcxhintpage_mod,a0
	move	a0,@BAKMODS,L
	calla	BGND_UD1

	clr	a0
	move	a0,@IRQSKYE

	movi	[1,31],a8		;START AT COLOR 10, CYCLE 7 COLORS
	movi	BST18B2_P,a9			;PAL NAME
	movi	BSTCYCB_P,a10
	movk	2,a11			;RATE OF CYCLE IN TICKS
	CREATE	CYCPID,CYCLE_TABLE	;START PROCESS TO DO CYCLE

	movk	1,a0
	calla	create_title_bar

	movi	heading_setup,a2
	calla	setup_message
	movi	edcxstr_heading,a4
	calla	print_string_C2

	movi	YSPACE,a0
	move	a0,@mess_line_spacing

	movi	heading2_setup,a2
	calla	setup_message

;	movk	26,a0
	movi	44,a0
	calla	RNDRNG0			;0-7
	sll	5,a0			;x 32 bits
	move	a0,a9
	addi	edcxrandom_hints,a0
	move	*a0,a4,L
	calla	print_string_C2

	movi	LN1_setup,a2
	calla	setup_message

	addi	edcxrandom_hints2,a9
	move	*a9,a4,L
	calla	print_string2

	movk	1,a0
	move	a0,@DISPLAYON

	SLEEPK	2
	calla	display_unblank

	SLEEP	TSEC*2

	movi	7*TSEC,a10
edcxwhopper_with_cheese
	SLEEPK	1
	calla	get_all_buttons_cur2
	jrnz	edcxexit
	dsj	a10,edcxwhopper_with_cheese
edcxexit

	SOUND1	bounce_snd

	JSRP	buyin_screen

	movi	CYCPID,a0
	calla	KIL1C
	clr	a0
	move	a0,@IRQSKYE		;background color
	move	a0,@DISPLAYON
 
	SLEEPK	1		;2

	calla	system_restoregame

;	movk	INGAME,a0
;	move	a0,@GAMSTATE

	movi	CLSDEAD|creditid,a0
	calla	obj_del1c		;kill credit/qrtr imgs

	calla	prt_credits
	CREATE0	start_msgs
	calla	fix_dropout_msgs
	RETP


kill_tvpanel
	movi	CLSDEAD|tvid,a0
	calla	obj_del1c
	movi	CLSDEAD|tvscrid,a0
	calla	obj_del1c
	movi	tvid,a0			;Delete big clock at botm of scrn
	calla	KIL1C
	movi	CLSDEAD|bclockid,a0
	calla	obj_del1c

	movi	clockid,a0
	calla	KIL1C 			;Kill existing shot clock proc
	movi	CLSDEAD|clockid,a0
	calla	obj_del1c		;Delete any 24 second shot clock imgs
	clr	a0
	move	a0,@sc_proc,L

	move	@tvpanelon,a0,L
	jrz	edcxx1
	calla	KILL
	clr	a0
	move	a0,@tvpanelon,L
edcxx1
	rets


edcxhintpage_mod
	.long	ATTRACTBMOD
	.word	0,0
	.long	0


	.asg	20,LN0
	.asg	120,LN1

heading_setup
	PRINT_STR	brush20_ascii,8,0,200,7,BRSHGYOP,0
heading2_setup
	PRINT_STR	bast18_ascii,8,0,200,LN0+45,BST18B2_P,0
LN1_setup
	PRINT_STR	bast10_ascii,6,0,44,LN1-10,BAST_D_P,0


edcxstr_heading
	.string	"coaching tips",0
	.even

edcxcaplr_heading
	.string	"created player info",0
	.even


caplr_str_setup
	PRINT_STR	bast10_ascii,8,0,200,45,BAST_G_P,0

caplr_str_setup2
	PRINT_STR	bast10_ascii,8,0,20,80,BAST_W_P,0

hve_fun_str_setup
	PRINT_STR	brush20_ascii,8,0,200,220,BRSHGYGP,0

edcxcaplr_info_str
	.string	"thank you for creating a character!!",0
	.even

edcxcaplr_info_str2
	.string	"1) you can earn extra attribute points",1
	.string	"   by winning 3 games!",1
	.string	"",1
	.string	"2) you can reenter 'create player',",1
	.string	"   using your players' name and",1
	.string	"   pin number!",1
	.string	"",1
	.string	"3) find the best combination of attributes",1
	.string	"   and privileges!",1
	.string	"",1
	.string	"4) you have special abilities that normal",1
	.string	"   players don't!",0
	.even


	.asg	1,CR

edcxrandom_hints
	.long	edcxstr_h0,edcxstr_h1,edcxstr_h2,edcxstr_h3,edcxstr_h4
	.long	edcxstr_h5,edcxstr_h6,edcxstr_h7,edcxstr_h8
	.long	edcxstr_h9,edcxstr_h10,edcxstr_h11,edcxstr_h12
	.long	edcxstr_h13,edcxstr_h14,edcxstr_h15,edcxstr_h16,edcxstr_h17,edcxstr_h18
	.long	edcxstr_h19,edcxstr_h20,edcxstr_h21,edcxstr_h22,edcxstr_h23,edcxstr_h24
	.long	edcxstr_h25,edcxstr_h26,edcxstr_h27
 
	.long	edcxstr_h28,edcxstr_h29,edcxstr_h30
	.long	edcxstr_h31,edcxstr_h32,edcxstr_h33
	.long	edcxstr_h34,edcxstr_h35,edcxstr_h36
	.long	edcxstr_h37,edcxstr_h38
	.long	edcxstr_h39,edcxstr_h40
	.long	edcxstr_h41
	.long	edcxstr_h42
	.long	edcxstr_h43
	.long	edcxstr_h44


edcxrandom_hints2
	.long	edcxstr_h0a,edcxstr_h1a,edcxstr_h2a,edcxstr_h3a,edcxstr_h4a
	.long	edcxstr_h5a,edcxstr_h6a,edcxstr_h7a,edcxstr_h8a
	.long	edcxstr_h9a,edcxstr_h10a,edcxstr_h11a,edcxstr_h12a
	.long	edcxstr_h13a,edcxstr_h14a,edcxstr_h15a,edcxstr_h16a,edcxstr_h17a,edcxstr_h18a
	.long	edcxstr_h19a,edcxstr_h20a,edcxstr_h21a,edcxstr_h22a,edcxstr_h23a,edcxstr_h24a
	.long	edcxstr_h25a,edcxstr_h26a,edcxstr_h27a

	.long	edcxstr_h28a,edcxstr_h29a,edcxstr_h30a
	.long	edcxstr_h31a,edcxstr_h32a,edcxstr_h33a
	.long	edcxstr_h34a,edcxstr_h35a,edcxstr_h36a
	.long	edcxstr_h37a,edcxstr_h38a
	.long	edcxstr_h39a,edcxstr_h40a
	.long	edcxstr_h41a
	.long	edcxstr_h42a
	.long	edcxstr_h43a
	.long	edcxstr_h44a


edcxstr_h0
	.string	"hook shots",0
edcxstr_h0a
	.string	"When you're running perpendicular,",1
	.string "near the hoop, press the shoot button.",1
	.string " ",1
	.string	"pressing turbo and shoot will give",1
	.string "the ball a higher arc!",0

edcxstr_h1
	.string	"super dunks",0
edcxstr_h1a
	.string	"press the turbo and Shoot buttons",1
	.string "while running toward the basket.",1
	.string	" ",1
	.string "remember, some players have more",1
	.string "spectacular dunks than others!",0

edcxstr_h2
	.string	"head fakes",0
edcxstr_h2a
	.string	"tap the Shoot button once.  However,",1
	.string	"this also causes you to pick up your",1
	.string	"dribble.",1
	.string	" ",1
	.string	"Try faking out CPU Drones!",0

edcxstr_h3
	.string	"jump shot pass",0
edcxstr_h3a
	.string	"Press and hold the shoot button,",1
	.string	"then press the pass button.  This",1
	.string	"allows you to dish off to your",1
	.string	"teammate.",1
	.string	" ",1
	.string "this is most effective when you are",1
	.string	"about to be rejected!",0

edcxstr_h4
	.string	"accurate jump shots",0
edcxstr_h4a
	.string	"increase the chances of a jump",1
	.string	"shot going in by releasing the Shoot",1
	.string	"button at the peak of your jump.",1
	.string	" ",1
	.string	"Avoid being rejected by holding on",1
	.string	"to the ball until the defender is",1
	.string	"out of position.",0

edcxstr_h5
	.string	"spin move",0
edcxstr_h5a
	.string	"When running, quickly tap the",1
	.string	"turbo button twice. This will cause",1
	.string	"you to spin around your opponent.",1
	.string	" ",1
	.string	"while spinning you're less likely to",1
	.string	"get cleared out by an opponent!",0

edcxstr_h6
	.string	"clearing out",0
edcxstr_h6a
	.string	"when facing your opponent, press the",1
	.string	"turbo and pass buttons at the same",1
	.string	"time. This will clear him out!",1
	.string	" ",1
	.string	"remember, small players can't clear",1
	.string	"out big players!",0

edcxstr_h7
	.string "protect the ball",0
edcxstr_h7a
	.string	"When standing in position with the",1
	.string	"ball, quickly tap the turbo button.",1
	.string "this will cause the player to protect",1
	.string "the ball!",0

edcxstr_h8
	.string	"turbo pass",0
edcxstr_h8a
	.string	"press the turbo and pass buttons at",1
	.string "the same time for a fast pass.",1
	.string " ",1
	.string "Turbo passes are less likely to be",1
	.string "intercepted by the defense!",0

edcxstr_h9
	.string	"super jumps",0
edcxstr_h9a
	.string	"jump extra high when shooting,",1
	.string	"blocking, or rebounding by pressing",1
	.string "the turbo and shoot buttons at the",1
	.string "same time!",0

edcxstr_h10
	.string	"dunk pass",0
edcxstr_h10a
	.string	"to avoid having your dunk blocked,",1
	.string "pass off to your teammate.",1
	.string	" ",1
	.string "This is most effective when your",1
	.string "teammate is open for a three point",1
	.string "shot!",0

edcxstr_h11
	.string	"layups",0
edcxstr_h11a
	.string	"When running at the hoop, quickly",1
	.string	"press the turbo and shoot buttons!",1
	.string	" ",1
	.string	"Holding the shoot button delays",1
	.string	"the release of the ball. Use this",1
	.string	"to fake out your opponent!",0

;Fix!!!  Put in for maximum version!
;edcxstr_h12
;	.string	"hotspots",0
;edcxstr_h12a
;	.string	"if a player makes 3 jump shots",1
;	.string	"from the same spot on the court,",1
;	.string	"then that spot becomes his hotspot!",1
;	.string	" ",1
;	.string	"shooting from a hotspot dramatically",1
;	.string	"increases the shot percentage!!",0

edcxstr_h12
edcxstr_h13
	.string	"lean-out jumper",0
edcxstr_h12a
edcxstr_h13a
	.string	"If you are facing straight up or",1
	.string	"down, pull the joystick to the left",1
	.string	"or right!",1
	.string	" ",1
	.string	"holding the shoot button delays the",1
	.string	"release of the ball!",0

edcxstr_h14
	.string	"hot streak",0
edcxstr_h14a
	.string "When a player scores 3 consecutive",1
	.string "baskets, he is on fire!",1
	.string " ",1
	.string "When a player goes on a hot streak,",1
	.string	"give him the ball!  he will remain",1
	.string	"hot for several shots or until the",1
	.string	"other team scores.",0

edcxstr_h15
	.string "double-dunks",0
edcxstr_h15a
	.string	"When a player is in a dunk, his",1
	.string	"teammate can also start a dunk.",1
	.string	"The player with the ball can then",1
	.string	"press the pass button to lob the",1
	.string	"the ball to his teammate.",1
	.string	"",1
	.string	"Try for 3 in a row!",0

edcxstr_h16
	.string "drone control",0
edcxstr_h16a
	.string	"Cause a teammate controlled by the",1
	.string	"CPU to shoot or pass by pressing",1
	.string	"your own shoot or pass buttons.",1
	.string	" ",1
	.string	"pass to your drone when he is under",1
	.string	"the hoop for a quick dunk.",0

edcxstr_h17
	.string	"fade-away jumper",0
edcxstr_h17a
	.string	"Just as you jump up for a shot, pull",1
	.string	"the joystick in the opposite direction",1
	.string	"your player is facing.",1
	.string	" ",1
	.string	"holding the shoot button delays the",1
	.string	"release of the ball!",0

edcxstr_h18
	.string	"Player Attributes",0
edcxstr_h18a
	.string	"For maximum success, pay attention",1
	.string "to your player's strengths and",1
	.string	"weaknesses.  Play big guys near the",1
	.string "hoop, and small guys outside.",1
	.string	" ",1
	.string "Big guys are poor 3 point shooters!",0

edcxstr_h19
	.string	"power attribute",0
edcxstr_h19a
	.string	"The greater a player's Power rating,",1
	.string "the harder it is to clear him out",1
	.string	"or to block his dunks.  Try to avoid",1
	.string "size mismatches. ",1
	.string	" ",1
	.string	"powerful guys tend to hold onto",1
	.string "the ball when cleared out!",0

edcxstr_h20
	.string	"alley-oop play",0
edcxstr_h20a
	.string	"When your teammate has the ball,",1
	.string "drive the open lane toward the hoop",1
	.string	"and press turbo and shoot.",1
	.string	"Once airborne, your teammate must",1
	.string	"quickly pass you the ball!",1
	.string	"",1
	.string	"Try for 3 in a row!",0

edcxstr_h21
	.string	"teamwork",0
edcxstr_h21a
	.string	"A combination of 3 consecutive",1
	.string "alley-oops or double-dunks will",1
	.string	"put your team in the zone!",1
	.string	" ",1
	.string	"Don't be a ball hog!",0

edcxstr_h22
	.string	"steal attribute",0
edcxstr_h22a
	.string	"The greater a player's steal rating,",1
	.string "the more effective his swiping",1
	.string	"becomes. He will also intercept more",1
	.string "passes!",1
	.string	" ",1
	.string	"Smaller, quicker players are very",1
	.string "skilled at stealing the ball.",0

edcxstr_h23
	.string	"dunk attribute",0
edcxstr_h23a
	.string	"The greater a player's dunk rating,",1
	.string "the more spectacular his dunks. a",1
	.string	"player with a zero dunk rating will",1
	.string "perform just layups.",1
	.string	" ",1
	.string "Layups are generally less successful",1
	.string "than dunks.",0

edcxstr_h24
	.string	"speed attribute",0
edcxstr_h24a
	.string	"The greater a player's speed rating,",1
	.string "the faster he moves.  Usually, the",1
	.string	"faster players are less powerful",1
	.string "and therefore get cleared out more.",1
	.string	" ",1
	.string "Match speed against speed.",0

edcxstr_h25
	.string	"create player",0
edcxstr_h25a
	.string	"At start of a game, choose the",1
	.string "'create player' option and",1
	.string "customize a player to fit your",1
	.string "individual playing style.",1
	.string " ",1
	.string "created players can earn extra",1
	.string "attribute points with 3 wins!",0

edcxstr_h26
	.string	"power-ups",0
edcxstr_h26a
	.string	"On the versus screen, press the",1
	.string "turbo, shoot and pass buttons to",1
	.string	"select a combination. In order",1
	.string	"to activate some power-ups, all",1
	.string	"players must enter the same",1
	.string	"combination!",1
	.string	"",1
	.string	"enter '111' for tournament mode!",0

edcxstr_h27
	.string	"lean-in jumper",0
edcxstr_h27a
	.string	"Just as you jump up for a shot, push",1
	.string	"the joystick in the direction your",1
	.string	"player is facing!",1
	.string	" ",1
	.string	"holding the shoot button delays the",1
	.string	"release of the ball!",0

edcxstr_h28
	.string	"Smart turbo useage",0
edcxstr_h28a
	.string	"The amount of turbo remaining is",1
	.string	"displayed at the top of the screen.",1
	.string	" ",1
	.string	"all turbo actions deplete this",1
	.string	"amount, so conserve just enough for",1
	.string	"that all important next move!",0

edcxstr_h29
	.string	"Substitutions",0
edcxstr_h29a
	.string	"Some players may become fatigued",1
	.string "during the second half!  Try",1
	.string	"substituting those players with",1
	.string "fresh players at halftime.",1
	.string " ",0

edcxstr_h30
	.string	"Burst of speed",0
edcxstr_h30a
	.string	"avoid pesky defenders and increase",1
	.string	"the speed of your player by holding",1
	.string	"down the Turbo button.",0

edcxstr_h31
	.string	"Court awareness",0
edcxstr_h31a
	.string	"locate a player's position when he",1
	.string	"is off screen by watching for his",1
	.string	"arrow.  Try to anticipate his moves.",1
	.string	" ",1
	.string	"When off screen, try to stay away",1
	.string	"from opposing players.",0

edcxstr_h32
	.string	"Smart play",0
edcxstr_h32a
	.string	"An open player is more likely to",1
	.string	"make a basket, so pass to your open",1
	.string	"teammate whenever possible!",1
	.string	" ",1
	.string	"Try to anticipate your opponent's next",1
	.string	"move before he makes it!",0

edcxstr_h33
	.string	"Secret power-ups",0
edcxstr_h33a
	.string "Ball Players can be powered up with",1
	.string "super human abilities.  Try special",1
	.string	"joystick/button moves during the",1
	.string	"team matchup screen!",0

edcxstr_h34
	.string "Strong defense",0
edcxstr_h34a
	.string	"decrease the chance of an opponent's",1
	.string	"shot going in the basket by getting",1
	.string	"up real close to him!",1
	.string	" ",1
	.string	"clear him out, steal the ball!",0

edcxstr_h35
	.string	"Hidden Passing attribute",0
edcxstr_h35a
	.string	"The greater a player's hidden pass",1
	.string "rating, the faster he passes.",1
	.string	" ",1
	.string	"It is more difficult to intercept a",1
	.string "quick pass than a slow pass.  You",1
	.string "should always try a turbo pass.",0

edcxstr_h36
	.string	"Blocking attribute",0
edcxstr_h36a
	.string	"The greater a player's block",1
	.string "rating, the better he is at blocking",1
	.string	"dunks and regular jump shots.",1
	.string	" ",1
	.string	"It is also harder for someone to",1
	.string "drive by him for a dunk.",0

edcxstr_h37
	.string	"Hidden Clutch attribute",0
edcxstr_h37a
	.string	"The greater a player's hidden clutch",1
	.string "rating, the more chance that he will",1
	.string	"make a great play during the last 10",1
	.string "seconds of any period.",0

edcxstr_h38
	.string	"Stats pages",0
edcxstr_h38a
	.string	"On the stats page, the steals",1
	.string "category includes slap aways and",1
	.string	"clear outs of ball carriers.",1
	.string	" ",1
	.string	"The injured category represents how",1
	.string "many times you were cleared out!",0

edcxstr_h39
	.string "Layup out of dunks",0
edcxstr_h39a
	.string	"When a player is in a dunk, he can",1
	.string	"press the shoot button to lob the",1
	.string	"the ball toward the hoop.",1
	.string	"",1
	.string	"This is most effective if your dunk",1
	.string	"is about to get blocked.",0

edcxstr_h40
	.string "On demand layups",0
edcxstr_h40a
	.string "run toward the basket without",1
	.string	"holding down the turbo button.",1
	.string "then press the turbo and Shoot",1
	.string	"buttons.  Release shoot button",1
	.string "to layup the ball.",0

edcxstr_h41
	.string	"strengthen created player",0
edcxstr_h41a
	.string	"Each time a created player wins",1
	.string "3 games, he is awarded additional",1
	.string "attribute points.  As you increase",1
	.string "your players strength, hidden",1
	.string "features will become accessible",1
	.string "for that player!",0

edcxstr_h42
	.string	"shot swatting",0
edcxstr_h42a
	.string	"When swatting at a jump shot, hold",1
	.string "the block button down until your",1
	.string "opponent releases the ball, then",1
	.string "release the block button to follow",1
	.string "through with the swat.",0

edcxstr_h43
	.string	"Hidden rebound attribute",0
edcxstr_h43a
	.string	"The greater a player's hidden rebound",1
	.string "rating, the more chance that he will",1
	.string	"snag the rebound from a crowd of",1
	.string "players.  He will also jump higher",1
	.string "when trying to rebound.",0

edcxstr_h44
	.string	"successful rebounding",0
edcxstr_h44a
	.string	"Wait until the ball has hit the rim",1
	.string "before pressing the block button.",1
	.string	"",1
	.string	"Auto rebounding may also occur when",1
	.string "the ball is directly above your head.",0

	.even

;What's new about the game?
*****************************************************************************
	.asg	17,YSPACE

 SUBR	new_page

	calla	display_blank
	calla	WIPEOUT

	clr	a0
	move	a0,@dtype		;2D

	movk	1,a0			;page flipping on
	move	a0,@dpageflip

	movi	SCRNEND,a0		;[256,405]
	move	a0,@SCRNLR,L

	clr	a0
	move	a0,@WORLDTLX,L
	move	a0,@WORLDTLY,L
	move	a0,@IRQSKYE

	SLEEPK	1

	movi	isbxnewpage_mod,a0
	move	a0,@BAKMODS,L
	calla	BGND_UD1

	movk	1,a0
	calla	create_title_bar

	movi	isbxheading_setup,a2
	calla	setup_message
	movi	isbxstr_heading,a4
	calla	print_string_C2

	movk	1,a0
	move	a0,@DISPLAYON

	SLEEPK	2

	calla	display_unblank

	movi	isbxstr_tbl,a9,L
isbxlp
	movi	LN1b_setup,a2
	calla	setup_message
	movi	CLSNEUT|TYPTEXT|SUBMES1,a0
	move	a0,@mess_objid		;OBJ ID's for text
	move	*a9+,a4,L
	calla	print_string_C2

	movi	LN2b_setup,a2
	calla	setup_message
	movi	CLSNEUT|TYPTEXT|SUBMES1,a0
	move	a0,@mess_objid		;OBJ ID's for text
	move	*a9+,a4,L
	calla	print_string_C2

	CREATE	CYCPID,flash_bigtxt3

	move	*a9,a14
	cmpi	4000,a14
	jrz	isbxcont0

	SLEEP	40

	movi	1*TSEC,a10
isbxwhopper_with_chees
	SLEEPK	1
	calla	get_all_buttons_cur2
	jrnz	isbxexi
	dsj	a10,isbxwhopper_with_chees
isbxexi	move	a10,a10
      	jrz	isbxcontz

      	clr	a0
	move	a0,@SOUNDSUP		;turn all sounds on
	SOUND1	bounce_snd
	movk	1,a0
	move	a0,@SOUNDSUP		;turn all sounds off

	jruc	isbxcont
isbxcontz

	movi	OBJLST,a10
	jruc	isbxstart
isbxnext_obj
	move	*a10(OID),a0
	cmpi	CLSNEUT|TYPTEXT|SUBMES1,a0
	jrne	isbxnot_gover
	movi	[15,0],a0
	move	a0,*a10(OYVEL),L	;Fall off scrn
isbxnot_gover
isbxstart
	move	*a10,a10,L
	jrnz	isbxnext_obj

	SLEEPK	17
     
	movi	CLSNEUT|TYPTEXT|SUBMES1,a0
	calla	obj_del1c
	jruc	isbxlp

isbxcont0
	SLEEP	2*TSEC
isbxcont
	movi	CYCPID,A0
	calla	KIL1C

;DJT Start
	.asg	12,FRATE
	clr	a10
	movk	FRATE,a11
	CREATE0	fade_down

	SLEEP	1+(256/FRATE)+3
;DJT End

	RETP


isbxheading_setup
	PRINT_STR	brush20_ascii,8,0,200,7,BRSHGYOP,0
LN1b_setup
	PRINT_STR	brush50_ascii,24,0,200,62,BRSH50R_P,0
LN2b_setup
	.ref	brush50_ascii
	PRINT_STR	brush50_ascii,24,0,200,133,BRSH50R_P,0

isbxnewpage_mod
	.long	ATTRACTBMOD
	.word	0,0
	.long	0

;DJT Start
isbxstr_tbl
  .long	isbxstr_h0
  .long	isbxstr_h0a
  .long	isbxstr_h1
  .long	isbxstr_h1a
  .long	isbxstr_h2
  .long	isbxstr_h2a
  .long	isbxstr_h3
  .long	isbxstr_h3a
  .long	isbxstr_h4
  .long	isbxstr_h4a
  .long	isbxstr_h5
  .long	isbxstr_h5a
  .long	isbxstr_h6
  .long	isbxstr_h6a
  .long	isbxstr_h7
  .long	isbxstr_h7a
 .if	TRIVCON
  .long	isbxstr_h8
  .long	isbxstr_h8a
 .endif	;TRIVCON
  .long	isbxstr_h9
  .long	isbxstr_h9a
  .long	isbxstr_h10
  .long	isbxstr_h10a
  .long	4000,4000


isbxstr_heading
	.string	"HANGTIME MAXIMIZED!",0
;	.string	"HANGTIME HIGHLIGHTS",0
	.asg	1,CR		    

isbxstr_h0
	.string	"1997",0
;	.string	"150 NBA",0
isbxstr_h0a
	.string	"LINEUPS",0
;	.string	"PLAYERS",0

isbxstr_h1
	.string	"COLLEGE",0
;	.string	"CREATE",0
isbxstr_h1a
	.string	"ROOKIES",0
;	.string	"PLAYER",0

isbxstr_h2
	.string	"HOT",0
;	.string	"ALLEY",0
isbxstr_h2a
	.string	"SPOTS",0
;	.string	"OOPS",0

isbxstr_h3
	.string	"TEAM",0
;	.string	"DOUBLE",0
isbxstr_h3a
	.string	"FIRE",0
;	.string	"DUNKS",0

isbxstr_h4
	.string	"SIZZLING",0
;	.string	"ROOF TOP",0
isbxstr_h4a
	.string	"FINALE",0
;	.string	"COURT",0

isbxstr_h5
	.string	"SMARTER",0
;	.string	"SPIN",0
isbxstr_h5a
	.string	"DRONES",0
;	.string	"MOVES",0

isbxstr_h6
	.string	"RADICAL",0
;	.string	"DIGITAL",0
isbxstr_h6a
	.string	"DUNKS",0
;	.string	"SOUND",0

isbxstr_h7
	.string	"BETTER",0
;	.string	"M DOC",0
isbxstr_h7a
	.string	"GAMEPLAY",0
;	.string	"RAPS",0

 .if	TRIVCON
isbxstr_h8
	.string	"TRIVIA",0
isbxstr_h8a
	.string	"CONTEST",0
 .endif	;TRIVCON

isbxstr_h9
	.string	"NEW",0
;	.string	"MEGA",0
isbxstr_h9a
	.string	"POWERUPS",0
;	.string	"SECRETS",0

isbxstr_h10
	.string	"AND NEW",0
;	.string	"AND",0
isbxstr_h10a
	.string	"SECRETS!",0
;	.string	"MORE!",0

	.even

*****************************************************************************
	.ref	fontram

 SUBR	flash_bigtxt3
;DJT End
  
	movi	OBJLST,a14
	movi	fontram,a3
	clr	a4
	move	a4,*a3,L
	
hizdlp
	move	*a14,a14,L
	jrz	hizdx
	move	*a14(OID),a2
	cmpi	CLSNEUT|TYPTEXT|SUBMES1,a2
	jrne	hizdlp
	move	a14,*a3+,L
	move	a4,*a3,L
	jruc	hizdlp

		
hizdx	movk	3,a10
	.ref	white_pal
hizdtop	movi	white_pal,a0
	calla	pal_getf
	movi	fontram,a3
	
hizdlp2
	move	*a3+,a1,L
	jrz	hizdxx
	move	a0,*a1(OPAL)
	jruc	hizdlp2

hizdxx	SLEEPK	3

	movi	BRSH50R_P,a0
	calla	pal_getf
	movi	fontram,a3
	
hizdlp3
	move	*a3+,a1,L
	jrz	hizdxxx
	move	a0,*a1(OPAL)
	jruc	hizdlp3

hizdxxx	SLEEPK	5
	dsj	a10,hizdtop
	DIE

*****************************************************************************


time_delay
	SLEEPK	30
td_1
	SLEEPK	1
	move	*a13(PROCID),a0
;DJT Start
	andni	1,a0
	cmpi	GRANDCHAMP_PID,a0
	jreq	bcpklpt			;Called from grand champion?
;DJT End
	cmpi	DIAG_PID,a0
	jreq	bcpklpt			;Called from octopuss?
	calla	get_all_buttons_cur2
	jrz	bcpklpt
      	clr	a0
	move	a0,@SOUNDSUP		;turn all sounds on
	SOUND1	bounce_snd
	movk	1,a0
	move	a0,@SOUNDSUP		;turn all sounds off
	RETP
bcpklpt
	dsj	a10,td_1
	RETP


;bcpktxt
;	move	a9,a0
;	sll	5,a0
;	addi	bcpkrandom_hints,a0
;	move	*a0,a4,L
;	calla	print_string2
;
;	move	a9,a0
;	sll	5,a0
;	addi	bcpkrandom_hints2,a0
;	move	*a0,a4,L
;	calla	print_string2
;
;	move	@mess_cursy,a0
;	addk	30,a0
;	move	a0,@mess_cursy
;
;
;	movk	1,a0
;	MOVE	A0,@SOUNDSUP,W		;TURN ALL SOUNDS ON
;	ADJUST	ADJMUSIC		;GET MUSIC ON OFF FOR DEMO
;	MOVE	A0,A0
;	JRNZ	bcpkNONO1
;	CLR	A0
;	MOVE	A0,@SOUNDSUP,W		;TURN ALL SOUNDS ON
;
;	SOUND1	tick_snd
;	movk	1,a0
;	move	a0,@SOUNDSUP		;turn all sounds off
;
;bcpkNONO1	rets




*****************************************************************************
* INPUT:	a0 = 0	(1st half stats)
*		a0 = 1	(final game stats)
*-----------------------------------------------------------------------------

	STRUCTPD
	WORD	HTS_STARTX
	WORD	HTS_STARTY
	APTR	HTS_STATSADDR
	APTR	HTS_PALETTE1		;2 pts
	APTR	HTS_PALETTE2		;3 pts.
	APTR	HTS_PALETTE3		;turnovers
	APTR	HTS_PALETTE4		;points
	APTR	HTS_PALETTE5		;dunks
	APTR	HTS_PALETTE6		;assists
	APTR	HTS_PALETTE7		;steals
	APTR	HTS_PALETTE8		;blocks
	APTR	HTS_PALETTE9		;rebounds
	APTR	HTS_PALETTEa		;injured


	.asg	11,STARTX1
	.asg	90,STARTY1
	.asg	128,STARTX2
	.asg	90,STARTY2
	.asg	205,STARTX3
	.asg	90,STARTY3
	.asg	323,STARTX4
	.asg	90,STARTY4
	.asg	11,YSPACING1

 SUBR	stats_page2

	PUSHP	a0
	jruc	mghstvout

 SUBR	stats_page

	PUSHP	a0

	movi	4*60,a10

mghsstop	SLEEPK	1
	dec	a10
	jrz	mghstvout
	move	@tvpanelon,a0,L
	jrnz	mghsstop
mghstvout
	callr	kill_tvpanel

	calla	display_blank
	calla	system_savegame

	clr	a0
	move	a0,@dtype		;2D

;;	movi	4<<10+4<<5+7,a0
	clr	a0
	move	a0,@IRQSKYE		;background color

	movk	INPLYRINFO,a0
	move	a0,@GAMSTATE

	movi	SCRNEND,a0		;[256,405]
	move	a0,@SCRNLR,L

	clr	a0
	move	a0,@WORLDTLX,L
	move	a0,@WORLDTLY,L

	SLEEPK	2

	movi	mghshalftime_mod,a0
	move	@TWOPLAYERS,a1		;0 = NO, 1 = YES 2 players
	jrz	mghs4_plyrs
	movi	mghshalftime_mod2,a0
mghs4_plyrs
	move	a0,@BAKMODS,L
	calla	BGND_UD1

	movi	mghsheading_setup,a2
	calla	setup_message
	PULLP	a0
	movi	mghsstr_heading1,a4
	move	a0,a0
	jrz	mghs1st_half
	movi	mghsstr_heading2,a4
mghs1st_half
	calla	print_string_C2

	move	@special_heads,a1,L
;	move	@player_toggle1,a0
	PUSH	a0,a1


	move	@TWOPLAYERS,a1		;0 = NO, 1 = YES 2 players
	jrz	mghs4_plyrsb

	move	@special_heads,a0
	move	@special_heads+10h,a1

	move	a1,@special_heads
	move	a0,@special_heads+10h

mghs4_plyrsb
	movk	2,a0
	calla	create_title_bar
	calla	create_stat_titles
	clr	a0
	calla	create_score_backdrop		;for the scores
	movk	1,a0
	calla	create_score_backdrop		;for the scores

	movk	4,a0
	calla	create_player_heads
	calla	update_player_heads

	clr	a10
	calla	create_player_nubs

	movi	105,a1				;Y position
	calla	create_names

	calla	create_plyrs_name
	calla	create_name_backplates
	PULL	a0,a1
	move	a1,@special_heads,L

	callr	print_scores

	movi	[2,14],a8		;START AT COLOR 2, CYCLE 15 COLORS
	movi	BASTC_G_P,a9		;PAL NAME
	movi	BASTCYCGP,a10
	movk	3,a11			;RATE OF CYCLE IN TICKS
	CREATE	CYCPID,CYCLE_TABLE	;START PROCESS TO DO CYCLE

	movi	[2,14],a8		;START AT COLOR 2, CYCLE 15 COLORS
	movi	BASTC_R_P,a9		;PAL NAME
	movi	BASTCYCRP,a10
	movk	3,a11			;RATE OF CYCLE IN TICKS
	CREATE	CYCPID,CYCLE_TABLE	;START PROCESS TO DO CYCLE

***********************************************
* player 1

	movi	player_stats+(0*PS_SIZE*10h),a2
	movi	player_stats+(1*PS_SIZE*10h),a3
	movi	player_stats+(2*PS_SIZE*10h),a4
	movi	player_stats+(3*PS_SIZE*10h),a5
	callr	highlight_best

	movi	player_stats + 0*PS_SIZE*10h,a0
	move	a0,*a13(HTS_STATSADDR),L
	movi	STARTX1,a0
	move	a0,*a13(HTS_STARTX)

	movi	STARTY1+29,a0
	move	@TWOPLAYERS,a1		;0 = NO, 1 = YES 2 players
	jrz	mghs4_plyrs_ps1
	movi	STARTY1+29,a0
mghs4_plyrs_ps1
	move	a0,*a13(HTS_STARTY)
	callr	print_pstats

***********************************************
* player 2

	movi	player_stats+(1*PS_SIZE*10h),a2
	movi	player_stats+(0*PS_SIZE*10h),a3
	movi	player_stats+(2*PS_SIZE*10h),a4
	movi	player_stats+(3*PS_SIZE*10h),a5
	callr	highlight_best

	movi	player_stats + 1*PS_SIZE*10h,a0
	move	a0,*a13(HTS_STATSADDR),L
	movi	STARTX2,a0
	move	a0,*a13(HTS_STARTX)

	movi	STARTY2+29,a0
	move	@TWOPLAYERS,a1		;0 = NO, 1 = YES 2 players
	jrz	mghs4_plyrs_ps2
	movi	STARTY2+29,a0
mghs4_plyrs_ps2
	move	a0,*a13(HTS_STARTY)
	callr	print_pstats

***********************************************
* player 3

	movi	player_stats+(2*PS_SIZE*10h),a2
	movi	player_stats+(0*PS_SIZE*10h),a3
	movi	player_stats+(1*PS_SIZE*10h),a4
	movi	player_stats+(3*PS_SIZE*10h),a5
	callr	highlight_best

	movi	player_stats + 2*PS_SIZE*10h,a0
	move	a0,*a13(HTS_STATSADDR),L
	movi	STARTX3,a0
	move	a0,*a13(HTS_STARTX)
	movi	STARTY3+29,a0
	move	a0,*a13(HTS_STARTY)
	callr	print_pstats

***********************************************
* player 4

	movi	player_stats+(3*PS_SIZE*10h),a2
	movi	player_stats+(0*PS_SIZE*10h),a3
	movi	player_stats+(1*PS_SIZE*10h),a4
	movi	player_stats+(2*PS_SIZE*10h),a5
	callr	highlight_best

	movi	player_stats + 3*PS_SIZE*10h,a0
	move	a0,*a13(HTS_STATSADDR),L
	movi	STARTX4,a0
	move	a0,*a13(HTS_STARTX)
	movi	STARTY4+29,a0
	move	a0,*a13(HTS_STARTY)
	callr	print_pstats

***********************************************


	movk	1,a0
	move	a0,@DISPLAYON

	SLEEPK	2
	calla	display_unblank

	movi	STAT_TEXT_ID,a10,L
	CREATE	FLSH_TXT_PID,change_pal_on_text

	move	@plyr_onfire,a10
	jrz	mghsnofire
	srl	1,a10
	jrnc	mghsnop1
	clr	a11
	CREATE	FIRE_ANIM_PID,anim_fire_for_best_plyr

mghsnop1	srl	1,a10
	jrnc	mghsnop2
	movk	1,a11
	CREATE	FIRE_ANIM_PID,anim_fire_for_best_plyr

mghsnop2	srl	1,a10
	jrnc	mghsnop3
	movk	2,a11
	CREATE	FIRE_ANIM_PID,anim_fire_for_best_plyr

mghsnop3	srl	1,a10
	jrnc	mghsnofire
	movk	3,a11
	CREATE	FIRE_ANIM_PID,anim_fire_for_best_plyr
mghsnofire

	SLEEPK	20

	calla	get_best_player
	calla	best_plyr_speech
	move	a0,a8
	.ref	flash_plyrs_mugshot
	CREATE	CYCPID,flash_plyrs_mugshot

	movi	21*TSEC,a10

mghswhopper_with_cheese
	SLEEPK	1
	calla	get_all_buttons_cur2
	jrnz	mghsexit
	dsj	a10,mghswhopper_with_cheese
mghsexit
	SLEEPK	3

	calla	kill_fire_anim
	calla	kill_flsh_txt_proc

	movi	CYCPID,a0
	calla	KIL1C

	move	@gmqrtr,a0
	cmpi	4,a0
	jrlo	mghsnoat
	JSRP	award_plr_attrib_pts

mghsnoat
	SOUND1	bounce_snd

	move	@gmqrtr,a0
	cmpi	2,a0
	jrnz	mghsnoth
	JSRP	plyr_subs
	clr	a0
	.ref	in_team_select
	move	a0,@in_team_select
mghsnoth
	JSRP	buyin_screen
;DJT Start
	.if	TRIVCON
;TRIVIA
	movk	ADJTRIVIA,a0		;Get difficulty level
	calla	GET_ADJ
	move	a0,a0			;if value is NON-ZERO, dont allow
	jrnz	mghsnotriv

	move	@gmqrtr,a0
	cmpi	4,a0
	jrlt	mghsnotriv
	JSRP	trivia_game
mghsnotriv
;TRIVIA
	.endif	;TRIVCON
;DJT End

	clr	a0
	move	a0,@DISPLAYON

;	JSRP	QSNDRST

	SLEEPK	2

	calla	system_restoregame

	movi	JOIN_CYCLE_PID,a0
	calla	KIL1C

	movi	CLSDEAD|creditid,a0
	calla	obj_del1c		;kill credit/qrtr imgs

	calla	prt_credits

	CREATE0	start_msgs
	calla	fix_dropout_msgs

	move	@gmqrtr,a0
	cmpi	4,a0
	jrlt	mghsnotn
	SOUND1	crwdbed_kill
mghsnotn

	RETP


******************************************************************************
*
* RETURNS: a0 - best player (based on stats)
******************************************************************************
 SUBR	get_best_player

	movi	player_stats+(0*PS_SIZE*10h),a2
	callr	add_plyr_stats
	move	a14,a3
	movi	player_stats+(1*PS_SIZE*10h),a2
	callr	add_plyr_stats
	move	a14,a4
	movi	player_stats+(2*PS_SIZE*10h),a2
	callr	add_plyr_stats
	move	a14,a5
	movi	player_stats+(3*PS_SIZE*10h),a2
	callr	add_plyr_stats
	move	a14,a2

	clr	a0
	cmp	a4,a3
	jrhi	mghspl2				;br=plr 2 is better
	move	a4,a3
	movk	1,a0
mghspl2
	cmp	a5,a3
	jrhi	mghspl3				;br=plr 2 is better
	move	a5,a3
	movk	2,a0
mghspl3	
	cmp	a2,a3
	jrhi	mghspl4				;br=plr 2 is better
	move	a2,a3
	movk	3,a0
mghspl4
	rets


******************************************************************************
*		This routine add some of the players stats together
*
* INPUT:  reg a2 - ptr to plyr stat ram
* RETURN: reg a14 - stat additive
******************************************************************************
 SUBR	add_plyr_stats

	move	*a2(PS_2PTS_MADE*10h),a14
	move	*a2(PS_3PTS_MADE*10h),a1
	add	a1,a14
	sll	1,a14				;x 2
	add	a1,a14				;3 pts

	move	a14,a1
	srl	1,a1				;double value
	add	a1,a14

	move	*a2(PS_ASSISTS*10h),a1
	add	a1,a14
	move	*a2(PS_BLOCKS*10h),a1
	add	a1,a14
	move	*a2(PS_STEALS*10h),a1
	add	a1,a14
	rets


BASTC_G_P:
   .word   16 
   .word   00000h,00000h,00280h,003e0h,003e0h,003e0h,003c0h,003a0h
   .word   003a0h,00380h,00360h,00340h,00320h,00300h,002e0h,07fffh

BASTCYCGP:
   .word   003e0h,003c0h,003a0h,003a0h,00380h,00360h,00340h,00320h
   .word   00300h,002e0h,00300h,00320h,00340h,00360h,00380h,003a0h
   .word   003c0h,003c0h,003a0h,00380h,00340h,00320h,00340h,00380h
   .word   003a0h,003c0h,003a0h,00380h,00360h,00340h,00300h,002e0h
   .word   00300h,00300h,00320h,00340h,00340h,00360h,00360h,00380h
   .word   003a0h,003a0h,003c0h,003e0h

   .word   003e0h,003c0h,003a0h,003a0h,00380h,00360h,00340h,00320h
   .word   00300h,002e0h,00300h,00320h,00340h,00360h,00380h,003a0h
   .word   003c0h,003c0h,003a0h,00380h,00340h,00320h,00340h,00380h
   .word   003a0h,003c0h,003a0h,00380h,00360h,00340h,00300h,002e0h
   .word   00300h,00300h,00320h,00340h,00340h,00360h,00360h,00380h
   .word   003a0h,003a0h,003c0h,003e0h
   .word   -1
   .even


BASTC_R_P:
   .word   16 
   .word   00000h,00000h,05000h,07c00h,07c00h,07c00h,07c00h,07800h
   .word   07800h,07400h,07000h,06c00h,06800h,06400h,06000h,07fffh



BASTCYCRP:
   .word   07c00h,07800h,07800h,07400h
   .word   07000h,06c00h,06800h,06400h,06000h,06400h,06800h,06c00h
   .word   07000h,07400h,07800h
   .word   07800h,07400h,06c00h,06800h,06c00h,07000h,07400h,07800h
   .word   07400h,06c00h,06800h,06400h,06000h,06400h,06400h,06800h
   .word   06c00h,06c00h,07000h,07000h,07400h,07800h,07800h,07c00h

   .word   07c00h,07800h,07800h,07400h
   .word   07000h,06c00h,06800h,06400h,06000h,06400h,06800h,06c00h
   .word   07000h,07400h,07800h
   .word   07800h,07400h,06c00h,06800h,06c00h,07000h,07400h,07800h
   .word   07400h,06c00h,06800h,06400h,06000h,06400h,06400h,06800h
   .word   06c00h,06c00h,07000h,07000h,07400h,07800h,07800h,07c00h
   .word   -1
   .even


***********************************************
***********************************************
 SUBR	plyr_subs

;DJT Start
	movi	OBJLST,a1
	jruc	so20
so10	move	*a1(OFLAGS),a0
	andi	DMAWNZ+M_CHARGEN+M_PIXSCAN,a0
	move	a0,*a1(OFLAGS)
so20	move	*a1,a1,L
	jrnz	so10
;DJT End

;	movi	CYCPID,a0
;	calla	KIL1C

	JSRP	start_teams
	RETP



RGB	.macro	R,G,B
	.word	(:R:<<10) | (:G:<<5) | :B:
	.endm

COLTAB
	.word	07fffh,07bffh,077ffh,073ffh,06fffh
	.word	06bffh,067deh,063deh,05fdeh,05bdeh,057deh,043bdh,033bdh
	.word	01f9ch,00f7bh,0037bh,00f7bh,01b9ch,02b9ch,03bbdh,04bbdh
	.word	05fdeh,063deh,067deh,06bdeh,06fffh,077ffh,07bffh,07fffh

	.word	07fffh,07bffh,077ffh,073ffh,06fffh
	.word	06bffh,067deh,063deh,05fdeh,05bdeh,057deh,043bdh,033bdh
	.word	01f9ch,00f7bh,0037bh,00f7bh,01b9ch,02b9ch,03bbdh,04bbdh
	.word	05fdeh,063deh,067deh,06bdeh,06fffh,077ffh,07bffh,07fffh
	.word	-1

COLTABRED
	.word   07d2ah,07d08h,07cc6h,07ca5h,07c63h,07c42h,07c00h
	.word   07c00h,07c00h,07c42h,07c63h,07c84h,07ca5h,07ce7h,07d08h
	.word   07d29h,07d4ah,07d8ch,07dadh,07dceh,07e10h,07defh,07dceh
	.word   07d8ch,07d6bh,07d4ah,07d29h,07d08h,07ce7h,07cc6h,07ca5h
	.word   07c84h,07c63h,07c42h,07c21h,07c00h,07c00h,07c21h,07c63h
	.word   07ca5h,07ce7h,07d29h,07d6bh,07dadh,07defh,07e31h,07e73h
	.word   07eb5h,07ef7h,07f39h,07f7bh,07fbdh,07fffh,07f9ch,07f39h
	.word   07ef7h,07e94h,07e31h,07defh,07d8ch,07d2ah

	.word   07d2ah,07d08h,07cc6h,07ca5h,07c63h,07c42h,07c00h
	.word   07c00h,07c00h,07c42h,07c63h,07c84h,07ca5h,07ce7h,07d08h
	.word   07d29h,07d4ah,07d8ch,07dadh,07dceh,07e10h,07defh,07dceh
	.word   07d8ch,07d6bh,07d4ah,07d29h,07d08h,07ce7h,07cc6h,07ca5h
	.word   07c84h,07c63h,07c42h,07c21h,07c00h,07c00h,07c21h,07c63h
	.word   07ca5h,07ce7h,07d29h,07d6bh,07dadh,07defh,07e31h,07e73h
	.word   07eb5h,07ef7h,07f39h,07f7bh,07fbdh,07fffh,07f9ch,07f39h
	.word   07ef7h,07e94h,07e31h,07defh,07d8ch,07d2ah
	.WORD	-1

mghshalftime_mod
	.long	HTSTATSBMOD
	.word	0,0
	.long	0


mghshalftime_mod2
	.long	HTSTATSBMOD
	.word	0,0
	.long	0

mghsheading_setup
	PRINT_STR	brush20_ascii,8,0,200,7,BRSHGYOP,0
mghsstr_heading1
	.string	"1st half stats",0
mghsstr_heading2
	.string	"end game stats",0

	.even

*****************************************************************************

	.asg	 44,SX1
	.asg	359,SX2

 SUBRP	print_scores

	movi	hzjgscore_setup,a2
	calla	setup_message

	movi	SX1,a0
	move	a0,@mess_cursx
	move	@scores,a0
	movi	999,a1			;max value
	calla	dec_to_asc
	calla	copy_string
	calla	print_string_C

	movi	SX2,a0
	move	a0,@mess_cursx
	move	@scores+16,a0
	movi	999,a1			;max value
	calla	dec_to_asc
	calla	copy_string
	calla	print_string_C

	rets

hzjgscore_setup
	PRINT_STR	brush20_ascii,8,0,200,7,BRSH_Y_P,0

*****************************************************************************
*
* INPUT:	a2 = * player to check
*		a3 = * other player 1
*		a4 = * other player 2
*		a5 = * other player 3
*
* message_palette = BAST_Y_P default
*		  = BAST_W_P if highest stat
*
*-----------------------------------------------------------------------------
 SUBRP	highlight_best

	movi	BASTC_W_P,a6
	move	*a2(PS_2PTS_MADE*10h),a0
	move	*a2(PS_3PTS_MADE*10h),a7
	add	a7,a0
	jrz	fbxsnot_best1

	move	*a3(PS_2PTS_MADE*10h),a1
	move	*a3(PS_3PTS_MADE*10h),a7
	add	a7,a1
	cmp	a1,a0
	jrlo	fbxsnot_best1

	move	*a4(PS_2PTS_MADE*10h),a1
	move	*a4(PS_3PTS_MADE*10h),a7
	add	a7,a1
	cmp	a1,a0
	jrlo	fbxsnot_best1

	move	*a5(PS_2PTS_MADE*10h),a1
	move	*a5(PS_3PTS_MADE*10h),a7
	add	a7,a1
	cmp	a1,a0
	jrlo	fbxsnot_best1
	movi	BASTC_G_P,a6
fbxsnot_best1
	move	a6,*a13(HTS_PALETTE1),L

	movi	BASTC_W_P,a6
	move	*a2(PS_3PTS_MADE*10h),a0
	jrz	fbxsnot_best2
	move	*a3(PS_3PTS_MADE*10h),a1
	cmp	a1,a0
	jrlo	fbxsnot_best2
	move	*a4(PS_3PTS_MADE*10h),a1
	cmp	a1,a0
	jrlo	fbxsnot_best2
	move	*a5(PS_3PTS_MADE*10h),a1
	cmp	a1,a0
	jrlo	fbxsnot_best2
	movi	BASTC_G_P,a6
fbxsnot_best2
	move	a6,*a13(HTS_PALETTE2),L

	movi	BASTC_W_P,a6
	move	*a2(PS_2PTS_MADE*10h),a0
	move	*a2(PS_3PTS_MADE*10h),a7
	add	a7,a0
	sll	1,a0				;x 2
	add	a7,a0				;3 pts
	jrz	fbxsnot_best4

	move	*a3(PS_2PTS_MADE*10h),a1
	move	*a3(PS_3PTS_MADE*10h),a7
	add	a7,a1
	sll	1,a1				;x 2
	add	a7,a1				;3 pts
	cmp	a1,a0
	jrlo	fbxsnot_best4

	move	*a4(PS_2PTS_MADE*10h),a1
	move	*a4(PS_3PTS_MADE*10h),a7
	add	a7,a1
	sll	1,a1				;x 2
	add	a7,a1				;3 pts
	cmp	a1,a0
	jrlo	fbxsnot_best4

	move	*a5(PS_2PTS_MADE*10h),a1
	move	*a5(PS_3PTS_MADE*10h),a7
	add	a7,a1
	sll	1,a1				;x 2
	add	a7,a1				;3 pts
	cmp	a1,a0
	jrlo	fbxsnot_best4

	movi	BASTC_G_P,a6
fbxsnot_best4
	move	a6,*a13(HTS_PALETTE4),L


	movi	BASTC_W_P,a6
	move	*a2(PS_DUNKS_MADE*10h),a0
	jrz	fbxsnot_best5
	move	*a3(PS_DUNKS_MADE*10h),a1
	cmp	a1,a0
	jrlo	fbxsnot_best5
	move	*a4(PS_DUNKS_MADE*10h),a1
	cmp	a1,a0
	jrlo	fbxsnot_best5
	move	*a5(PS_DUNKS_MADE*10h),a1
	cmp	a1,a0
	jrlo	fbxsnot_best5
	movi	BASTC_G_P,a6
fbxsnot_best5
	move	a6,*a13(HTS_PALETTE5),L


	movi	BASTC_W_P,a6
	move	*a2(PS_ASSISTS*10h),a0
	jrz	fbxsnot_best6
	move	*a3(PS_ASSISTS*10h),a1
	cmp	a1,a0
	jrlo	fbxsnot_best6
	move	*a4(PS_ASSISTS*10h),a1
	cmp	a1,a0
	jrlo	fbxsnot_best6
	move	*a5(PS_ASSISTS*10h),a1
	cmp	a1,a0
	jrlo	fbxsnot_best6
	movi	BASTC_G_P,a6
fbxsnot_best6
	move	a6,*a13(HTS_PALETTE6),L


	movi	BASTC_W_P,a6
	move	*a2(PS_STEALS*10h),a0
	jrz	fbxsnot_best7
	move	*a3(PS_STEALS*10h),a1
	cmp	a1,a0
	jrlo	fbxsnot_best7
	move	*a4(PS_STEALS*10h),a1
	cmp	a1,a0
	jrlo	fbxsnot_best7
	move	*a5(PS_STEALS*10h),a1
	cmp	a1,a0
	jrlo	fbxsnot_best7
	movi	BASTC_G_P,a6
fbxsnot_best7
	move	a6,*a13(HTS_PALETTE7),L


	movi	BASTC_W_P,a6
	move	*a2(PS_BLOCKS*10h),a0
	jrz	fbxsnot_best8
	move	*a3(PS_BLOCKS*10h),a1
	cmp	a1,a0
	jrlo	fbxsnot_best8
	move	*a4(PS_BLOCKS*10h),a1
	cmp	a1,a0
	jrlo	fbxsnot_best8
	move	*a5(PS_BLOCKS*10h),a1
	cmp	a1,a0
	jrlo	fbxsnot_best8
	movi	BASTC_G_P,a6
fbxsnot_best8
	move	a6,*a13(HTS_PALETTE8),L


	movi	BASTC_W_P,a6
	move	*a2(PS_OFF_REB*10h),a0
	move	*a2(PS_DEF_REB*10h),a7
	add	a7,a0
	jrz	fbxsnot_best9

	move	*a3(PS_OFF_REB*10h),a1
	move	*a3(PS_DEF_REB*10h),a7
	add	a7,a1
	cmp	a1,a0
	jrlo	fbxsnot_best9
	move	*a4(PS_OFF_REB*10h),a1
	move	*a4(PS_DEF_REB*10h),a7
	add	a7,a1
	cmp	a1,a0
	jrlo	fbxsnot_best9
	move	*a5(PS_OFF_REB*10h),a1
	move	*a5(PS_DEF_REB*10h),a7
	add	a7,a1
	cmp	a1,a0
	jrlo	fbxsnot_best9
	movi	BASTC_G_P,a6
fbxsnot_best9
	move	a6,*a13(HTS_PALETTE9),L


	movi	BASTC_W_P,a6
	move	*a2(PS_INJURY*10h),a0
	jrz	fbxsnot_besta
	move	*a3(PS_INJURY*10h),a1
	cmp	a1,a0
	jrlo	fbxsnot_besta
	move	*a4(PS_INJURY*10h),a1
	cmp	a1,a0
	jrlo	fbxsnot_besta
	move	*a5(PS_INJURY*10h),a1
	cmp	a1,a0
	jrlo	fbxsnot_besta
	movi	BASTC_R_P,a6
fbxsnot_besta
	move	a6,*a13(HTS_PALETTEa),L


;check turnovers
	movi	BASTC_W_P,a6
	move	*a2(PS_TURNOVERS*10h),a0
	jrz	fbxsnot_bestb
	move	*a3(PS_TURNOVERS*10h),a1
	cmp	a1,a0
	jrlo	fbxsnot_bestb
	move	*a4(PS_TURNOVERS*10h),a1
	cmp	a1,a0
	jrlo	fbxsnot_bestb
	move	*a5(PS_TURNOVERS*10h),a1
	cmp	a1,a0
	jrlo	fbxsnot_bestb
	movi	BASTC_R_P,a6
fbxsnot_bestb
	move	a6,*a13(HTS_PALETTE3),L
	rets


*****************************************************************************

	.asg	18,COLOFF1
	.asg	67,COLOFF2

 SUBRP	print_pstats

	movi	aqnmstats_setup,a2
	calla	setup_message

	movi	STAT_TEXT_ID,a0
	move	a0,@mess_objid

*** all shots made / all shots taken	percentage

	move	*a13(HTS_PALETTE1),a0,L
	move	a0,@message_palette,L

	move	*a13(HTS_STARTY),a0
	move	a0,@mess_cursy

	move	*a13(HTS_STARTX),a0
	addi	COLOFF1,a0
	move	a0,@mess_cursx
	move	*a13(HTS_STATSADDR),a10,L
	move	*a10(PS_2PTS_MADE*10h),a0
	move	*a10(PS_3PTS_MADE*10h),a2
	add	a2,a0
	PUSH	a0
	movi	99,a1			;max value
	calla	dec_to_asc
	calla	copy_string
	calla	print_string_R

	move	*a13(HTS_STARTX),a0
	addi	COLOFF1,a0
	move	a0,@mess_cursx
	movi	aqnmstr_slash,a4
	calla	print_string2

	move	*a13(HTS_STARTX),a0
	addi	COLOFF1+6,a0
	move	a0,@mess_cursx
	move	*a13(HTS_STATSADDR),a10,L
	move	*a10(PS_2PTS_TRY*10h),a0
	move	*a10(PS_3PTS_TRY*10h),a3
	add	a3,a0
	movi	99,a1			;max value
	calla	dec_to_asc
	calla	copy_string
	calla	print_string

	move	*a13(HTS_STARTX),a0
	addi	COLOFF2-3,a0
	move	a0,@mess_cursx

	PULL	a3			;total points scored
	movi	100,a0
	mpyu	a0,a3
	move	*a13(HTS_STATSADDR),a10,L
	move	*a10(PS_2PTS_TRY*10h),a0
	move	*a10(PS_3PTS_TRY*10h),a1
	add	a1,a0
	jrz	aqnmzippo1
	divu	a0,a3
	move	a3,a0
aqnmzippo1
	movi	100,a1			;max value
	calla	dec_to_asc
	calla	copy_string
	movi	aqnmstr_pct,a4
	calla	concat_rom_string
	calla	print_string_R

*** 3pt shots made / 3pt shots taken	percentage

	move	*a13(HTS_PALETTE2),a0,L
	move	a0,@message_palette,L

	move	*a13(HTS_STARTY),a0
	addi	1*YSPACING1,a0
	move	a0,@mess_cursy

	move	*a13(HTS_STARTX),a0
	addi	COLOFF1,a0
	move	a0,@mess_cursx
	move	*a13(HTS_STATSADDR),a10,L
	move	*a10(PS_3PTS_MADE*10h),a0
	movi	99,a1			;max value
	calla	dec_to_asc
	calla	copy_string
	calla	print_string_R

	move	*a13(HTS_STARTX),a0
	addi	COLOFF1,a0
	move	a0,@mess_cursx
	movi	aqnmstr_slash,a4
	calla	print_string2

	move	*a13(HTS_STARTX),a0
	addi	COLOFF1+6,a0
	move	a0,@mess_cursx
	move	*a13(HTS_STATSADDR),a10,L
	move	*a10(PS_3PTS_TRY*10h),a0
	movi	99,a1			;max value
	calla	dec_to_asc
	calla	copy_string
	calla	print_string

	move	*a13(HTS_STARTX),a0
	addi	COLOFF2-3,a0
	move	a0,@mess_cursx

	move	*a13(HTS_STATSADDR),a10,L
	move	*a10(PS_3PTS_MADE*10h),a3
	movi	100,a0
	mpyu	a0,a3
	move	*a10(PS_3PTS_TRY*10h),a0
	jrz	aqnmzippo2
	divu	a0,a3
	move	a3,a0
aqnmzippo2
	movi	100,a1			;max value
	calla	dec_to_asc
	calla	copy_string
	movi	aqnmstr_pct,a4
	calla	concat_rom_string
	calla	print_string_R

*** total points

	move	*a13(HTS_PALETTE4),a0,L
	move	a0,@message_palette,L

	move	*a13(HTS_STARTY),a0
	addi	2*YSPACING1,a0
	move	a0,@mess_cursy

	move	*a13(HTS_STARTX),a0
	addi	COLOFF1+8,a0
	move	a0,@mess_cursx

	move	*a13(HTS_STATSADDR),a10,L
	clr	a6
	move	*a10(PS_2PTS_MADE*10h),a0
	sll	1,a0			;X 2
	add	a0,a6
	move	*a10(PS_3PTS_MADE*10h),a0
	add	a0,a6
	sll	1,a0			;X 2
	add	a6,a0
	movi	999,a1			;max value
	calla	dec_to_asc
	calla	copy_string
	calla	print_string_R

*** dunks

	move	*a13(HTS_PALETTE5),a0,L
	move	a0,@message_palette,L

	move	*a13(HTS_STARTY),a0
	addi	3*YSPACING1,a0
	move	a0,@mess_cursy

	move	*a13(HTS_STARTX),a0
	addi	COLOFF1+8,a0
	move	a0,@mess_cursx

	move	*a13(HTS_STATSADDR),a10,L
	move	*a10(PS_DUNKS_MADE*10h),a0
	movi	99,a1			;max value
	calla	dec_to_asc
	calla	copy_string
	calla	print_string_R

*** assists

	move	*a13(HTS_PALETTE6),a0,L
	move	a0,@message_palette,L

	move	*a13(HTS_STARTY),a0
	addi	4*YSPACING1,a0
	move	a0,@mess_cursy

	move	*a13(HTS_STARTX),a0
	addi	COLOFF1+8,a0
	move	a0,@mess_cursx

	move	*a13(HTS_STATSADDR),a10,L
	move	*a10(PS_ASSISTS*10h),a0
	movi	99,a1			;max value
	calla	dec_to_asc
	calla	copy_string
	calla	print_string_R

*** steals

	move	*a13(HTS_PALETTE7),a0,L
	move	a0,@message_palette,L

	move	*a13(HTS_STARTY),a0
	addi	5*YSPACING1,a0
	move	a0,@mess_cursy

	move	*a13(HTS_STARTX),a0
	addi	COLOFF1+8,a0
	move	a0,@mess_cursx

	move	*a13(HTS_STATSADDR),a10,L
	move	*a10(PS_STEALS*10h),a0
	movi	99,a1			;max value
	calla	dec_to_asc
	calla	copy_string
	calla	print_string_R

*** blocks

	move	*a13(HTS_PALETTE8),a0,L
	move	a0,@message_palette,L

	move	*a13(HTS_STARTY),a0
	addi	6*YSPACING1,a0
	move	a0,@mess_cursy

	move	*a13(HTS_STARTX),a0
	addi	COLOFF1+8,a0
	move	a0,@mess_cursx

	move	*a13(HTS_STATSADDR),a10,L
	move	*a10(PS_BLOCKS*10h),a0
	movi	99,a1			;max value
	calla	dec_to_asc
	calla	copy_string
	calla	print_string_R

*** rebounds

	move	*a13(HTS_PALETTE9),a0,L
	move	a0,@message_palette,L

	move	*a13(HTS_STARTY),a0
	addi	7*YSPACING1,a0
	move	a0,@mess_cursy

	move	*a13(HTS_STARTX),a0
	addi	COLOFF1,a0
	move	a0,@mess_cursx
	move	*a13(HTS_STATSADDR),a10,L
	move	*a10(PS_OFF_REB*10h),a0
	movi	99,a1			;max value
	calla	dec_to_asc
	calla	copy_string
	calla	print_string_R

	move	*a13(HTS_STARTX),a0
	addi	COLOFF1,a0
	move	a0,@mess_cursx
	movi	aqnmstr_slash,a4
	calla	print_string2

	move	*a13(HTS_STARTX),a0
	addi	COLOFF1+6,a0
	move	a0,@mess_cursx
	move	*a13(HTS_STATSADDR),a10,L
	move	*a10(PS_DEF_REB*10h),a0
	move	*a10(PS_OFF_REB*10h),a1
	add	a1,a0
	movi	99,a1			;max value
	calla	dec_to_asc
	calla	copy_string
	calla	print_string

*** injury

	move	*a13(HTS_PALETTEa),a0,L
	move	a0,@message_palette,L

	move	*a13(HTS_STARTY),a0
	addi	8*YSPACING1,a0
	move	a0,@mess_cursy

	move	*a13(HTS_STARTX),a0
	addi	COLOFF1+8,a0
	move	a0,@mess_cursx

	move	*a13(HTS_STATSADDR),a10,L
	move	*a10(PS_INJURY*10h),a0
	movi	99,a1			;max value
	calla	dec_to_asc
	calla	copy_string
	calla	print_string_R

*** turnovers

	move	*a13(HTS_PALETTE3),a0,L
	move	a0,@message_palette,L

	move	*a13(HTS_STARTY),a0
	addi	9*YSPACING1,a0
	move	a0,@mess_cursy

	move	*a13(HTS_STARTX),a0
	addi	COLOFF1+8,a0
	move	a0,@mess_cursx

	move	*a13(HTS_STATSADDR),a10,L
	move	*a10(PS_TURNOVERS*10h),a0
	movi	99,a1			;max value
	calla	dec_to_asc
	calla	copy_string
	calla	print_string_R
	rets


aqnmstats_setup
	PRINT_STR	bast7tcyc_ascii,4,0,200,LN0,BASTC_W_P,0

aqnmstr_slash
	.string	"/",0
aqnmstr_pct
	.string	"%",0
	.even





	.asg	 15,OBJID
	.asg	 16,NAME_ID
	.asg	300,LOGO_X
	.asg	 80,LOGO_Y
	.asg	-10,HD_X
	.asg	 75,HD_DX
	.asg	190,HD_Y

*****************************************************************************
;DJT Start

;ATLANTA
	.ref	BLY_ATL,ATLNBLA,MUT_DEN,DENNMUT,SMI_ATL,ATLNSMI
	.ref	LAE_ATL,ATLNLAE,NOR_ATL,ATLNNOR
;BOSTON
	.ref	BRO_BOS,BOSNBRO,HAM_COL, HAMER ,BAR_BOS,BOSNBAR
	.ref	RAD_BOS,BOSNRAD,FOX_BOS,BOSNFOX
;CHARLOTTE
	.ref	RCE_CHA,CHANRIC,MAS_NEY,NWYNMAS,DIV_LAK,LALNDIV
	.ref	ZID_CHA,CHANZID,CUR_CHA,CHANCUR
;CHICAGO
	.ref	PIP_CHI,CHINPIP,ROD_CHI,CHINROD,KUK_CHI,CHINKUK
	.ref	LON_CHI,CHINLON,KER_CHI,CHINKER
;CLEVLAND
	.ref	HIL_CLE,CLENHIL,MIL_CLE,CLENMIL,PHL_CLE,CLENPHI
	.ref	BRA_CLE,CLENBRA,FER_CLE,CLENFER
;DALLAS
	.ref	KID_DAL,DALNKID,HPR_NEY,NWYNHAR,JAC_DAL,DALNJAC
	.ref	MON_BOS,BOSNMON,MAS_DAL,DALNMAS
;DENVER
	.ref	MCD_DEN,DENNMcD,MAR_SAC,SACNMAR,JAC_IND,INDNJAC
	.ref	ELL_DEN,DENNELL
;DETROIT
;	.ref	HIL_DET,DETNHIL,RIL_COL, RILEY ,DUM_DET,DETNDUM
	.ref	HIL_DET,DETNHIL,DUM_DET,DETNDUM
	.ref	THR_DET,DETNTHO,AUG_ATL,ATLNAUG
;GOLDEN STATE
	.ref	SPR_GLD,GOLNSPR,KON_ORL,ORLNKON,SMI_GLD,GOLNSMI
	.ref	MUL_GLD,GOLNMUL
;HOUSTON
	.ref	OLA_HOU,HOUNOLA,HAR_COL, HRNGTON ,DRX_HOU,HOUNDRE
	.ref	WLS_GLD,GOLNWIL
;INDIANA
	.ref	MIL_IND,INDNMIL,DAM_COL, DAMPIER ,ROS_DEN,DENNROS
	.ref	SMI_IND,INDNSMI,DAV_IND,INDNDAV
;L.A. CLIPPERS
	.ref	VAU_CLP,LACNVAU,ROG_CLP,LACNROG,MUR_CLP,LACNMUR
	.ref	RCH_CLP,LACNRIC,BAR_CLP,LACNBAR
;L.A. LAKERS
	.ref	VAN_LAK,LALNEXE,CEB_LAK,LALNCEB,SCO_VAN,VANNSCO
	.ref	CAM_LAK,LALNCAM,JON_LAK,LALNJON
;MIAMI
	.ref	MOU_MIA,MIANMOU,HRD_MIA,MIANHAR,DAN_MIA,MIANDAN
;MILWAUKEE
	.ref	BAK_MLW,MILNBAK,ALL_COL, ALLEN ,LNG_MIN,MINNLAN
	.ref	ROB_MLW,MILNROB,RES_MLW,MILNRES
;MINNESOTA
	.ref	GUG_MIN,MINNGUG,MAR_COL, MARBURY ,GAR_MIN,MINNGAR
;NEW JERSEY
	.ref	GLL_NEJ, NWJNGIL ,KIT_COL, KITTLES ,PAC_WAS,WASNPAC
	.ref	BRA_NEJ,NWJNBRA,OBA_NEJ,NWJNOBA
;NEW YORK
	.ref	EWG_NEY,NWYNEWI,WAL_COL, WALLACE ,JON_CHA,CHANJOH
	.ref	STA_NEY,NWYNSTA,HOU_DET,DETNHOU
;ORLANDO
	.ref	HAR_ORL,ORLNHAR,SKL_GLD,GOLNSEI,GRT_ORL,ORLNGRA
	.ref	AND_ORL,ORLNAND,SCO_ORL,ORLNSCO
;PHILADELPHIA
;	.ref	IVE_COL, IVERSON ,MIN_COL, MINOR ,STA_PHL,PHINSTA
	.ref	IVE_COL, IVERSON ,STA_PHL,PHINSTA
	.ref	COL_PHL,PHINCOL,WEA_PHL,PHINWEA
;PHOENIX
	.ref	JOH_PHX,PHONJOH,TIS_PHX,PHONTIS,MAN_PHX,PHONMAN
	.ref	HOR_HOU,HOUNHOR,CAS_HOU,HOUNCAS
;PORTLAND
	.ref	ROB_PRT,PORNROB,RID_MIN,MINNRID,SAB_PRT,PORNSAB
	.ref	AND_CHA,CHANAND,CHI_PRT,PORNCHI
;SACRAMENTO
	.ref	OWE_SAC,SACNOWE,RAF_DEN,DENNRAU,RIC_SAC,SACNRIT
	.ref	GRA_SAC,SACNGRA,EDN_SAC,SACNEDN
;SAN ANTONIO
	.ref	ELL_SAN,SANNELL,ROB_SAN,SANNROB,MAX_PHL,PHINMAX
	.ref	JON_SAN,SANNJOH,DEL_SAN,SANNNEG
;SEATTLE
	.ref	KMP_SEA,SEANKEM,PAY_SEA,SEANPAY,SCH_SEA,SEANSCH
	.ref	HWK_SEA,SEANHAW,FOR_SEA,SEANFOR
;TORONTO
	.ref	ROG_TOR,TORNROG,CAM_COL, CAMBY ,STO_TOR,TORNSTO
	.ref	JON_DAL,DALNJON,WIL_MIA,MIANWIL
;UTAH
	.ref	STK_UTA,UTANSTO,MLN_UTA,UTANMAL,HRN_UTA,UTANHOR
	.ref	MOR_UTA,UTANMOR
;VANCOUVER
	.ref	ANT_VAN,VANNANT,EDW_VAN,VANNEDW,REV_VAN,VANNREE
;WASHINGTON
	.ref	STR_PRT,PORNSTR,WEB_WAS,WASNWEB,HWD_WAS,WASNHOW
	.ref	MUR_WAS,WASNMUR,CHE_WAS,WASNCHE

K_GILL	.equ	WALLACE+1

******************************************************************************

 SUBRP	show_nba_plyrs

	calla	display_blank
	calla	WIPEOUT
	calla	pal_clean

	movk	1,a0
	move	a0,@dpageflip

	clr	a0
	move	a0,@dtype		;2D

	movi	SCRNEND,a0		;[256,405]
	move	a0,@SCRNLR,L

	clr	a0
	move	a0,@WORLDTLX,L
	move	a0,@WORLDTLY,L
	move	a0,@IRQSKYE

	movi	sxldplayers_mod,a0
	move	a0,@BAKMODS,L
	calla	BGND_UD1

	movk	1,a0
	calla	create_title_bar

	movi	sxldheading_setup,a2
	calla	setup_message

	movi	kern_chars,a0
	move	a0,@mess_justify,L	;justification method

	movi	78,a0
	move	a0,@mess_cursx2

	movi	sxldstr_staring,a4
	calla	print_string2b

	movk	1,a0
	move	a0,@DISPLAYON
	calla	display_unblank

;create logo backdrop

	movi	[LOGO_X,0],a0,L			;x
	movi	[LOGO_Y,0],a1,L			;y
	movi	BALLBAK1,a2			;*img
	movi	1900,a3				;z
	movi	DMAWNZ|M_SCRNREL,a4		;DMA
	clr	a5				;id
	calla	BEGINOBJ2

	clr	a0				;x
	clr	a1				;y
	movi	B8TCYC_PER,a2			;*img
	movi	BASTC_G_P,b0,L			;*pal
	calla	BEGINOBJP2

	movi	[2,14],a8		;START AT COLOR 2, CYCLE 15 COLORS
	movi	BASTC_G_P,a9		;PAL NAME
	movi	BASTCYCGP,a10
	movk	3,a11			;RATE OF CYCLE IN TICKS
	CREATE	CYCPID,CYCLE_TABLE	;START PROCESS TO DO CYCLE

	movk	4,a0			;# of passes+1
	move	@tmnbr,a8
	jruc	sxldbotlp

;top of loop

sxldtoplp
	sll	6,a8
	addi	city_names_str_tbl,a8
	move	*a8+,a4,L

	movi	sxldtm_nme_str_setup,a2
	calla	setup_message

	movk	OBJID,a0
	move	a0,@mess_objid
	calla	print_string_C2			;city of team
		
	move	@mess_cursy,a0
	addk	23,a0
	move	a0,@mess_cursy

	move	*a8,a4,L
	calla	print_string_C2			;name of team

;create team logo
	move	@tmnbr,a2
	sll	5,a2
	addi	logos,a2,L
	move	*a2,a2,L			;*img

	movi	[LOGO_X,0],a0,L			;x
	movi	[LOGO_Y,0],a1,L			;y
	movi	1901,a3				;z
	movi	DMAWNZ|M_SCRNREL,a4		;DMA
	movk	OBJID,a5			;id
	calla	BEGINOBJ2

	move	@tmnbr,a11			;get ptr & cnt
	sll	5,a11
	addi	sxldtm_plyr_idxcnt,a11,L
	move	*a11,a10,L
	movx	a10,a11
	zext	a11
	addi	sxldtm_plyr_headname,a11,L

	movi	(HD_X+HD_DX)*2,a9		;figure X (*2 for odd DX)
	sra	16,a10				;pull down cnt -=4
	jrn	sxldx3
	jrz	sxldx4
	subi	HD_DX,a9
sxldx4
	subi	HD_DX,a9
sxldx3
	sll	16-1,a9
	subk	2,a10				;make cnt -=6

sxldhdlp
	movk	NAME_ID,a0
	calla	obj_del1c

	movi	DMAWNZ|M_SCRNREL,a4		;DMA
	movk	OBJID,a5			;id - plate,head
	clr	a6				;xvel
	clr	a7				;yvel

	move	a9,a0				;x
	movi	[HD_Y,0],a1,L			;y
	movi	MUGPLAT,a2,L			;*img
	movi	1900,a3				;z
	calla	BEGINOBJ2
		 
	movi	[26,0],a0,L
	add	a9,a0				;x
	movi	[HD_Y+10,0],a1,L		;y
	move	*a11+,a2,L			;*img - head
	addk	32,a3				;z pos
	calla	BEGINOBJ2

	move	*a11+,a2,L			;*img - name
	jrn	sxldnl0

	cmpi	K_GILL,a2
	jrz	sxldnork
	movi	rookie_setup,a2,L
	calla	setup_message

	move	a9,a0
	srl	16,a0
	addi	59,a0
	move	a0,@mess_cursx

	movi	s_rookie,a4,L
	movk	OBJID,a0
	move	a0,@mess_objid
	calla	print_string_C2
sxldnork
	movi	str_name_ptrs,a4,L		;is text string name
	move	*a11(-32),a2,L			;*img - name
	sll	5,a2
	add	a2,a4
	move	*a4,a4,L			;*name

	movi	str_name_setup,a2,L
	calla	setup_message

	movk	NAME_ID,a0
	move	a0,@mess_objid
	calla	print_string_C2
	jruc	sxldnl1
sxldnl0
	movi	200,a0
	move	*a2(ISIZEX),a1
	srl	1,a1
	sub	a1,a0
	sll	16,a0				;x
	movi	[222,0],a1,L			;y
	movk	NAME_ID,a5			;id - name
	calla	BEGINOBJ2
sxldnl1
	SLEEPK	1
	movk	1,a0
	move	a0,@DISPLAYON
	move	a0,@dpageflip

;	movi	TSEC+10,a8	;dbg
	movi	TSEC-10,a8	;-20
sxldwtlp1
	SLEEPK	1
	move	a10,a10
	jrn	sxldwtlp2
	calla	get_all_buttons_cur2
;	jrnz	sxldo2		;dbg
	jrnz	sxldmksnd
sxldwtlp2
	dsj	a8,sxldwtlp1
sxldo2
	addi	[HD_DX,0],a9,L
	subk	1,a10
	jrz	sxlddone
	jrnn	sxldhdlp
	addk	6,a10
	jruc	sxldhdlp
sxlddone
	movk	15,a8
sxldwtlp3
	SLEEPK	1
	calla	get_all_buttons_cur2
	jrnz	sxldo3		;dbg
;	jrnz	sxldmksnd
	dsj	a8,sxldwtlp3
sxldo3
	clr	a0				;Keep this page up while
	move	a0,@DISPLAYON			; building the next one
	move	a0,@dpageflip

	movk	OBJID,a0
	calla	obj_del1c

	move	@tmloop,a0
	move	@tmnbr,a8
	inc	a8
sxldbotlp
	cmpi	NUM_TEAMS,a8
	jrlo	sxldtmok
	clr	a8
sxldtmok
	move	a8,@tmnbr
	dec	a0
	move	a0,@tmloop
;	jruc	sxldtoplp			;FOR DEBUGING
	jrnz	sxldtoplp
	jruc	sxldxb
sxldmksnd
      	clr	a0
	move	a0,@SOUNDSUP		;turn all sounds on
	SOUND1	bounce_snd
	movk	1,a0
	move	a0,@SOUNDSUP		;turn all sounds off
sxldxb
	movi	CYCPID,a0
	calla	KIL1C
;;	calla	pal_clean

	.asg	32,FRATE
	clr	a10
	movk	FRATE,a11
	CREATE0	fade_down

	SLEEP	1+(256/FRATE)+3

	RETP
    

sxldtm_nme_str_setup
	PRINT_STR	brush20_ascii,8,0,125,59,BRSHGWKP,0
	

sxldheading_setup
	PRINT_STR	brush20_ascii,8,0,200,7,BRSHGYOP,kern_chars


sxldstr_staring
  .string  "RO",1,-1,"ST",1,-1,"E",1,1,"RS F",1,-3,"OR '97!",0
  .even


sxldplayers_mod
	.long	ATTRACTBMOD
	.word	0,0
	.long	0


sxldtm_plyr_idxcnt
	.long	[5 -4, 000 *2*32]		;ATLANTA
	.long	[5 -4, 005 *2*32]		;BOSTON
	.long	[5 -4, 010 *2*32]		;CHARLOTTE
	.long	[5 -4, 015 *2*32]		;CHICAGO
	.long	[5 -4, 020 *2*32]		;CLEVLAND
	.long	[5 -4, 025 *2*32]		;DALLAS
	.long	[4 -4, 030 *2*32]		;DENVER
	.long	[4 -4, 034 *2*32]	;[5 -4,	;DETROIT
	.long	[4 -4, 038 *2*32]		;GOLDEN STATE
	.long	[4 -4, 042 *2*32]		;HOUSTON
	.long	[5 -4, 046 *2*32]		;INDIANA
	.long	[5 -4, 051 *2*32]		;L.A. CLIPPERS
	.long	[5 -4, 056 *2*32]		;L.A. LAKERS
	.long	[3 -4, 061 *2*32]		;MIAMI
	.long	[5 -4, 064 *2*32]		;MILWAUKEE
	.long	[3 -4, 069 *2*32]		;MINNESOTA
	.long	[5 -4, 072 *2*32]		;NEW JERSEY
	.long	[5 -4, 077 *2*32]		;NEW YORK
	.long	[5 -4, 082 *2*32]		;ORLANDO
	.long	[4 -4, 087 *2*32]	;[5 -4,	;PHILADELPHIA
	.long	[5 -4, 091 *2*32]		;PHOENIX
	.long	[5 -4, 096 *2*32]		;PORTLAND
	.long	[5 -4, 101 *2*32]		;SACRAMENTO
	.long	[5 -4, 106 *2*32]		;SAN ANTONIO
	.long	[5 -4, 111 *2*32]		;SEATTLE
	.long	[5 -4, 116 *2*32]		;TORONTO
	.long	[4 -4, 121 *2*32]		;UTAH
	.long	[3 -4, 125 *2*32]		;VANCOUVER
	.long	[5 -4, 128 *2*32]		;WASHINGTON


sxldtm_plyr_headname
							;ATLANTA
	.long	BLY_ATL,ATLNBLA
	.long	MUT_DEN,DENNMUT
	.long	SMI_ATL,ATLNSMI
	.long	LAE_ATL,ATLNLAE
	.long	NOR_ATL,ATLNNOR
							;BOSTON
	.long	BRO_BOS,BOSNBRO
	.long	HAM_COL, HAMER		;new
	.long	BAR_BOS,BOSNBAR
	.long	RAD_BOS,BOSNRAD
	.long	FOX_BOS,BOSNFOX
							;CHARLOTTE
	.long	RCE_CHA,CHANRIC
	.long	MAS_NEY,NWYNMAS
	.long	DIV_LAK,LALNDIV
	.long	ZID_CHA,CHANZID
	.long	CUR_CHA,CHANCUR
							;CHICAGO
	.long	PIP_CHI,CHINPIP
	.long	ROD_CHI,CHINROD
	.long	KUK_CHI,CHINKUK
	.long	LON_CHI,CHINLON
	.long	KER_CHI,CHINKER
							;CLEVLAND
	.long	HIL_CLE,CLENHIL
	.long	MIL_CLE,CLENMIL
	.long	PHL_CLE,CLENPHI
	.long	BRA_CLE,CLENBRA
	.long	FER_CLE,CLENFER
							;DALLAS
	.long	KID_DAL,DALNKID
	.long	HPR_NEY,NWYNHAR
	.long	JAC_DAL,DALNJAC
	.long	MON_BOS,BOSNMON
	.long	MAS_DAL,DALNMAS
							;DENVER
	.long	MCD_DEN,DENNMcD
	.long	MAR_SAC,SACNMAR
	.long	JAC_IND,INDNJAC
	.long	ELL_DEN,DENNELL
							;DETROIT
	.long	HIL_DET,DETNHIL
;;	.long	RIL_COL, RILEY		;new
	.long	DUM_DET,DETNDUM
	.long	THR_DET,DETNTHO
	.long	AUG_ATL,ATLNAUG
							;GOLDEN STATE
	.long	SPR_GLD,GOLNSPR
	.long	KON_ORL,ORLNKON
	.long	SMI_GLD,GOLNSMI
	.long	MUL_GLD,GOLNMUL
							;HOUSTON
	.long	OLA_HOU,HOUNOLA
	.long	HAR_COL, HRNGTON	;new
	.long	DRX_HOU,HOUNDRE
	.long	WLS_GLD,GOLNWIL
							;INDIANA
	.long	MIL_IND,INDNMIL
	.long	DAM_COL, DAMPIER	;new
	.long	ROS_DEN,DENNROS
	.long	SMI_IND,INDNSMI
	.long	DAV_IND,INDNDAV
							;L.A. CLIPPERS
	.long	VAU_CLP,LACNVAU
	.long	ROG_CLP,LACNROG
	.long	MUR_CLP,LACNMUR
	.long	RCH_CLP,LACNRIC
	.long	BAR_CLP,LACNBAR
							;L.A. LAKERS
	.long	VAN_LAK,LALNEXE
	.long	CEB_LAK,LALNCEB
	.long	SCO_VAN,VANNSCO
	.long	CAM_LAK,LALNCAM
	.long	JON_LAK,LALNJON
							;MIAMI
	.long	MOU_MIA,MIANMOU
	.long	HRD_MIA,MIANHAR
	.long	DAN_MIA,MIANDAN
							;MILWAUKEE
	.long	BAK_MLW,MILNBAK
	.long	ALL_COL, ALLEN		;new
	.long	LNG_MIN,MINNLAN
	.long	ROB_MLW,MILNROB
	.long	RES_MLW,MILNRES
							;MINNESOTA
	.long	GUG_MIN,MINNGUG
	.long	MAR_COL, MARBURY	;new
	.long	GAR_MIN,MINNGAR
							;NEW JERSEY
	.long	GLL_NEJ, K_GILL		;fix
	.long	KIT_COL, KITTLES	;new
	.long	PAC_WAS,WASNPAC
	.long	BRA_NEJ,NWJNBRA
	.long	OBA_NEJ,NWJNOBA
							;NEW YORK
	.long	EWG_NEY,NWYNEWI
	.long	WAL_COL, WALLACE	;new
	.long	JON_CHA,CHANJOH
	.long	STA_NEY,NWYNSTA
	.long	HOU_DET,DETNHOU
							;ORLANDO
	.long	HAR_ORL,ORLNHAR
	.long	SKL_GLD,GOLNSEI
	.long	GRT_ORL,ORLNGRA
	.long	AND_ORL,ORLNAND
	.long	SCO_ORL,ORLNSCO
							;PHILADELPHIA
	.long	IVE_COL, IVERSON	;new
;;	.long	MIN_COL, MINOR		;new
	.long	STA_PHL,PHINSTA
	.long	COL_PHL,PHINCOL
	.long	WEA_PHL,PHINWEA
							;PHOENIX
	.long	JOH_PHX,PHONJOH
	.long	TIS_PHX,PHONTIS
	.long	MAN_PHX,PHONMAN
	.long	HOR_HOU,HOUNHOR
	.long	CAS_HOU,HOUNCAS
							;PORTLAND
	.long	ROB_PRT,PORNROB
	.long	RID_MIN,MINNRID
	.long	SAB_PRT,PORNSAB
	.long	AND_CHA,CHANAND
	.long	CHI_PRT,PORNCHI
							;SACRAMENTO
	.long	OWE_SAC,SACNOWE
	.long	RAF_DEN,DENNRAU
	.long	RIC_SAC,SACNRIT
	.long	GRA_SAC,SACNGRA
	.long	EDN_SAC,SACNEDN
							;SAN ANTONIO
	.long	ELL_SAN,SANNELL
	.long	ROB_SAN,SANNROB
	.long	MAX_PHL,PHINMAX
	.long	JON_SAN,SANNJOH
	.long	DEL_SAN,SANNNEG
							;SEATTLE
	.long	KMP_SEA,SEANKEM
	.long	PAY_SEA,SEANPAY
	.long	SCH_SEA,SEANSCH
	.long	HWK_SEA,SEANHAW
	.long	FOR_SEA,SEANFOR
							;TORONTO
	.long	ROG_TOR,TORNROG
	.long	CAM_COL, CAMBY		;new
	.long	STO_TOR,TORNSTO
	.long	JON_DAL,DALNJON
	.long	WIL_MIA,MIANWIL
							;UTAH
	.long	STK_UTA,UTANSTO
	.long	MLN_UTA,UTANMAL
	.long	HRN_UTA,UTANHOR
	.long	MOR_UTA,UTANMOR
							;VANCOUVER
	.long	ANT_VAN,VANNANT
	.long	EDW_VAN,VANNEDW
	.long	REV_VAN,VANNREE
							;WASHINGTON
	.long	STR_PRT,PORNSTR
	.long	WEB_WAS,WASNWEB
	.long	HWD_WAS,WASNHOW
	.long	MUR_WAS,WASNMUR
	.long	CHE_WAS,WASNCHE

; Removed
;DALNMcC,DETNMIL,HOUNSMI,INDNMcK,MIANCHA,MILNBEN,MILNDOU,MINNWEB
;NWJNGIL,NWJNEDW,NWYNOAK,PHINRUF,PHONPER,PHONFIN,PORNWIL,SANNPER
;TORNROB,TORNMIL,TORNMUR,UTANBEN,VANNSCO,VANNMUR


s_allen
	.string	"Ray Allen",0
s_camby
	.string	"Marcus Camby",0
s_dampier
	.string	"Eric Dampier",0
s_hamer
	.string	"Steve Hamer",0
s_harrington
	.string	"Othella Harrington",0
s_iverson
	.string	"Allen Iverson",0
s_kittles
	.string	"Kerry Kittles",0
s_marbury
	.string	"Stephon Marbury",0
s_minor
	.string	"Ryan Minor",0
s_riley
	.string	"Ron Riley",0
s_wallace
	.string	"John Wallace",0

s_gill
	.string	"Kendall Gill",0

s_rookie
	.string	"Rookie",0
      	.even

rookie_setup
	PRINT_STR	bast8tcyc_ascii,8,0,200,HD_Y+6,BASTC_G_P,0

str_name_setup
	PRINT_STR	bast18_ascii,8,0,200,213,BST18W_P,0

str_name_ptrs
	.long	0
	.long	s_allen,s_camby,s_dampier,s_hamer
	.long	s_harrington,s_iverson,s_kittles,s_marbury
	.long	s_minor,s_riley,s_wallace
	.long	s_gill

;DJT End

*****************************************************************************

	.asg	8,xjlfNOINITOFF
	.asg	21,xjlfOFF1
	.asg	12,xjlfSGMDYSPC
	.asg	33,xjlfWLOFF
	.asg	160,xjlfCOL1
	.asg	210,xjlfCOL2
	.asg	4,xjlfROFF1

 SUBR	rank_screen


	move	@PSTATUS,a0			;if nobody has entered their
	btst	0,a0				;initials, then skip this
	jrz	xjlfnop1
	move	@player1_data+PR_NAME1,a0
	jrgt	xjlfhave_initials
xjlfnop1
	move	@PSTATUS,a0
	btst	1,a0
	jrz	xjlfnop2
	move	@player2_data+PR_NAME1,a0
	jrgt	xjlfhave_initials
xjlfnop2
	move	@PSTATUS,a0
	btst	2,a0
	jrz	xjlfnop3
	move	@player3_data+PR_NAME1,a0
	jrgt	xjlfhave_initials
xjlfnop3
	move	@PSTATUS,a0
	btst	3,a0
	jrz	xjlfnop4
	move	@player4_data+PR_NAME1,a0
	jrgt	xjlfhave_initials
xjlfnop4
	RETP


xjlfhave_initials

	calla	display_blank
	calla	WIPEOUT			;CLEAN SYSTEM OUT

	clr	a0
	move	a0,@IRQSKYE		;background color

	movk	1,a0			;page flipping on
	move	a0,@dpageflip

	movk	INPLYRINFO,a0
	move	a0,@GAMSTATE

	movi	SCRNEND,a0		;[256,405]
	move	a0,@SCRNLR,L

	clr	a0
	move	a0,@WORLDTLX,L
	move	a0,@WORLDTLY,L

	SLEEPK	2

	movi	xjlfrank_mod,a0
	move	@TWOPLAYERS,a1		;0 = NO, 1 = YES 2 players
	jrz	xjlfnot_2a
	movi	xjlfrank_kit_mod,a0
xjlfnot_2a
	move	a0,@BAKMODS,L
	calla	BGND_UD1

;;;	MOVI	[3,9],a8		;START AT COLOR 3, CYCLE 9 COLORS
;;;	MOVI	SGMD8PLV,a9		;PAL NAME
;;;	MOVI	COLTAB,a10		;TABLE TO CYCLE WITH
;;;	MOVK	3,a11			;RATE OF CYCLE IN TICKS
;;;	CREATE	CYCPID,CYCLE_TABLE	;START PROCESS TO DO CYCLE

	CREATE0	credits3

	movk	1,a10
	callr	print_column
	movk	2,a10
	callr	print_column

;	movi	xjlfrank_mod,a0
	move	@TWOPLAYERS,a1		;0 = NO, 1 = YES 2 players
	jrnz	xjlfis_2

	clr	a10
	callr	print_column
	movk	3,a10
	callr	print_column
xjlfis_2
	SLEEPK	2
	calla	display_unblank

	SLEEP	TSEC
	movi	9*TSEC,a10
xjlfwhopper_with_cheese
	SLEEPK	1
	calla	get_all_buttons_cur2
	jrnz	xjlfexit
	dsj	a10,xjlfwhopper_with_cheese
xjlfexit
	SLEEPK	1

	RETP





xjlfrank_mod
	.long	ENTER4BMOD
	.word	0,0
	.long	ATRIBUTEBMOD		;NEW stats box map
	.word	0,178		;x,y
	.long	0


xjlfrank_kit_mod
	.long	ENTERKITBMOD
	.word	0,0		;x,y
	.long	ATRBKITBMOD			;option screen background
	.word	0,178		;x,y
	.long	0




	.asg	25,RANKY
	.asg	40,RECY
	.asg	51,WLY
	.asg	62,PCTY

	.asg	78,STREAKY1
	.asg	88,STREAKY2

	.asg	106,HAVDEFY1
	.asg	116,HAVDEFY2
	.asg	126,HAVDEFY3

	.asg	144,NEXTY1
	.asg	154,NEXTY2
	.asg	164,NEXTY3

	.asg	204,INITY

xjlfheading_setup
	PRINT_STR	bast18_ascii,8,0,200,6,BST18G_P,0
xjlfrank_setup1
	PRINT_STR	bast8t_ascii,3,0,0,RANKY,BAST_W_P,0
xjlfinitials_setup1
	PRINT_STR	bast8_ascii,5,0,94,6,BAST_W_P,0

stat_title_tbl
	.long	xjlfstats_setup1
	.long	xjlfstats_setup2
	.long	xjlfstats_setup3
	.long	xjlfstats_setup4

xjlfstats_setup1
	PRINT_STR	bast8_ascii,4,0,344,11,BAST_W_P,0
xjlfstats_setup2
	PRINT_STR	bast8_ascii,4,0,344,11,BAST_W_P,0
xjlfstats_setup3
	PRINT_STR	bast8_ascii,4,0,344,11,BAST_W_P,0
xjlfstats_setup4
	PRINT_STR	bast8_ascii,4,0,344,11,BAST_W_P,0


xjlfstr_cpu
	.string	"CPU",0
xjlfstr_rank
	.string	"RANK: #",0	;"RANK #"
xjlfstr_record
;	.string	81h,0		;"RECORD: "
;xjlfstr_w	.string 8ah," - ",0	;" (W) - "
;xjlfstr_l	.string	8bh,0		;"(L)"
	.string	"RECORD",0	;"RECORD: "
xjlfstr_w	.string "(W) - ",0	;" (W) - "
xjlfstr_l	.string	"(L)",0		;"(L)"

xjlfstr_pct
	.string	"PCT: .",0	;"PCT: ."
;	.string	83h,"  .",0	;"PCT: ."
xjlfstr_pct100
	.string	"PCT: 1.000",0	;"PCT: 1.000"
;	.string	83h,"  1.000",0	;"PCT: 1.000"
xjlfstr_streak
	.string	"STREAK",0
xjlfstr_win
	.string	" WIN",0
xjlfstr_wins
	.string	" WINS",0
xjlfstr_none
	.string	"NONE",0
xjlfstr_next
	.string	"next cpu",0
xjlfstr_vs
	.string	"opponent",0

;xjlfstr_hd0	.string	87h,0		;"YOU HAVE"
;xjlfstr_hd1	.string 85h,' ',0	;"DEFEATED XX"
;xjlfstr_hd2	.string	88h,0		;"OF THE 29"
;xjlfstr_hd3	.string	89h,0		;"NBA TEAMS"
;xjlfstr_all	.string	" ",8ch,0	;" ALL"
xjlfstr_hd1	.string "DEFEATED ",0	;"DEFEATED XX"
xjlfstr_hd2	.string	"OF THE 29",0	;"OF THE 29"
xjlfstr_hd3	.string	"NBA TEAMS",0	;"NBA TEAMS"
;xjlfstr_all	.string	" ALL",0	;" ALL"
xjlfstr_all	.string	" 29",0		;" ALL"
xjlfstr_dash	.string	"-",0


	.even

xjlfpdatas
	.long	player1_data
	.long	player2_data
	.long	player3_data
	.long	player4_data

xjlfcenter_xs
	.word	54,60,	0,0		;player 1
	.word	150,151,101,0		;player 2
	.word	248,254,295,0		;player 3
	.word	344,345,0,0		;player 4


;-----------------------------------------------------------------------------
;a10  = player number (0-3)
;-----------------------------------------------------------------------------
print_column

	move	@PSTATUS2,a0
	btst	a10,a0
	jrz	xjlfcpu_player

	move	a10,a0
	sll	5,a0			;x 32 bits
	addi	xjlfpdatas,a0
	move	*a0,a11,L

	move	*a11(PR_NAME1),a0
	jrle	xjlfno_initials

	movi	xjlfinitials_setup1,a2
	calla	setup_message

	move	a10,a0
	sll	6,a0			;x16x4
	addi	xjlfcenter_xs+10h,a0
	move	@TWOPLAYERS,a1		;0 = NO, 1 = YES 2 players
	jrz	xjlfnot_2c
	addi	10h,a0
xjlfnot_2c
	move	*a0,a0
	move	a0,@mess_cursx

	movi	INITY,a0
	move	a0,@mess_cursy
	movi	message_buffer,a3
	move	a11,a4
	addi	PR_NAME1,a4
	calla	get_name_string
	calla	print_string_C

;print 'stats' title
	calla	create_heading2

;	move	a10,a2
;	sll	5,a2
;	addi	stat_title_tbl,a2
;	move	*a2,a2
;	calla	setup_message
;	movi	stats_str,a4,L
;	calla	print_string_C2

	movi	xjlfrank_setup1,a2
	calla	setup_message

	move	a10,a0
	sll	6,a0			;x16x4
	addi	xjlfcenter_xs,a0
	move	@TWOPLAYERS,a1		;0 = NO, 1 = YES 2 players
	jrz	xjlfnot_2d
	addi	20h,a0
xjlfnot_2d
	move	*a0,a0
	move	a0,@mess_cursx

	movi	BAST_Y_P,a0
	move	a0,@message_palette,L

	movi	xjlfstr_rank,a4
	callr	copy_rom_string
	move	*a11(PR_RANK),a0	;rank
	cmpi	10,a0
	jrgt	xjlfnotten
	movi	BAST_W_P,a1		;highlight cycle colour
	move	a1,@message_palette,L
xjlfnotten
	movi	999,a1			;max value
	callr	dec_to_asc
	callr	concat_string
	callr	print_string_C		;centered

	movi	BAST_Y_P,a0		;highlight cycle colour
	move	a0,@message_palette,L

	movi	RECY,a0
	move	a0,@mess_cursy
	movi	xjlfstr_record,a4		;"RECORD:"
	callr	print_string_C2		;centered

	movi	BAST_W_P,a0
	move	a0,@message_palette,L

	movi	WLY,a0
	move	a0,@mess_cursy
	move	*a11(PR_WON),a0		;games won
	movi	999,a1			;max value
	callr	dec_to_asc
	callr	copy_string
	movi	xjlfstr_w,a4
	callr	concat_rom_string
	move	*a11(PR_LOST),a0	;games lost
	movi	999,a1			;max value
	callr	dec_to_asc
	callr	concat_string
	movi	xjlfstr_l,a4
	callr	concat_rom_string
	callr	print_string_C		;centered

	movi	BAST_W_P,a0
	move	a0,@message_palette,L

	movi	PCTY,a0
	move	a0,@mess_cursy		;message cursor pos Y
	move	*a11(PR_LOST),a2	;games lost
	jrz	xjlfno_losses
; % < 1000
	movi	xjlfstr_pct,a4		;"PCT: ."
	callr	copy_rom_string
	move	*a11(PR_LOST),a2	;games lost
	move	*a11(PR_WON),a1		;games won
	add	a1,a2			;total games
	movi	1000,a0
	mpys	a0,a1			;games won * 1000
	divs	a2,a1			;/ total games
	move	a1,a0
	callr	dec_to_pct
	callr	concat_string
	callr	print_string_C		;centered
	jruc	xjlfskip_loss

xjlfno_losses
	movi	xjlfstr_pct100,a4		;"PCT: 1.000"
	callr	print_string_C2		;centered
xjlfskip_loss

	movi	BAST_Y_P,a0
	move	a0,@message_palette,L

;	move	*a11(PR_WINSTREAK),a0	;no. consecutive wins
;	cmpi	3,a0
;	jrlt	xjlfno_hilght
;	movi	BAST_W_P,a1		;highlight cycle colour
;	move	a1,@message_palette,L
;xjlfno_hilght
	movi	STREAKY1,a0
	move	a0,@mess_cursy		;message cursor pos Y
	movi	xjlfstr_streak,a4
	callr	print_string_C2

	movi	BAST_W_P,a0
	move	a0,@message_palette,L

	movi	STREAKY2,a0
	move	a0,@mess_cursy		;message cursor pos Y
	move	*a11(PR_WINSTREAK),a0	;no. consecutive wins
	jrnz	xjlfnot0
	movi	xjlfstr_none,a4
	callr	print_string_C2
	jruc	xjlfcontws
xjlfnot0
	PUSH	a0
	movi	99,a1			;max value
	callr	dec_to_asc
	callr	copy_string
	PULL	a0
	movi	xjlfstr_wins,a4
	dec	a0
	jrnz	xjlfiswins
	movi	xjlfstr_win,a4
xjlfiswins
	callr	concat_rom_string
	callr	print_string_C
xjlfcontws
	movi	BAST_Y_P,a0
	move	a0,@message_palette,L

	movi	HAVDEFY1,a0
	move	a0,@mess_cursy		;message cursor pos Y
	movi	xjlfstr_hd1,a4		;"DEFEATED NN"
	callr	copy_rom_string

	move	*a11(PR_NUMDEF),a0	;number teams defeated
	cmpi	NUM_TEAMS,a0
	jrlo	xjlfnot_all

	movi	xjlfstr_all,a4		;" ALL"
	callr	concat_rom_string
	jruc	xjlfskipit
xjlfnot_all
	movi	NUM_TEAMS,a1			;max value
	callr	dec_to_asc
	callr	concat_string
xjlfskipit
	callr	print_string_C		;centered

	movi	BAST_W_P,a0
	move	a0,@message_palette,L

	movi	HAVDEFY2,a0
	move	a0,@mess_cursy		;message cursor pos Y
	movi	xjlfstr_hd2,a4		;"OF THE 30"
	callr	print_string_C2		;centered

	movi	HAVDEFY3,a0
	move	a0,@mess_cursy		;message cursor pos Y
	movi	xjlfstr_hd3,a4		;"NBA TEAMS"
	callr	print_string_C2		;centered

	move	*a11(PR_NUMDEF),a0	;number teams defeated
	cmpi	NUM_TEAMS,a0
	jreq	xjlfdefeated_all

	movi	BAST_Y_P,a0
	move	a0,@message_palette,L

	movi	NEXTY1,a0
	move	a0,@mess_cursy		;message cursor pos Y
	movi	xjlfstr_next,a4
	callr	print_string_C2

	movi	NEXTY2,a0
	move	a0,@mess_cursy		;message cursor pos Y
	movi	xjlfstr_vs,a4
	callr	print_string_C2

	movi	BAST_W_P,a0
	move	a0,@message_palette,L

	movi	NEXTY3,a0
	move	a0,@mess_cursy		;message cursor pos Y

	movi	bast8_ascii,a0
	move	a0,@message_ascii,L	;* ascii lookup table

	move	*a11(PR_TEAMSDEF),a1,L
	andi	ALL_TMS_DEFEATD,a1
	calla	get_opponent_team
	move	a2,a0
	addi	90h,a0			;asc table cities start offset
	movb	a0,@message_buffer+00h
	clr	a0
	movb	a0,@message_buffer+08h
	callr	print_string_C

xjlfdefeated_all
xjlfno_initials
	rets


xjlfcpu_player

 	.if 0
	movi	xjlfinitials_setup1,a2
	calla	setup_message

	move	a10,a0
	sll	5,a0			;x16x2
	addi	xjlfcenter_xs+10h,a0
	move	*a0,a0
	move	a0,@mess_cursx

	movi	INITY,a0
	move	a0,@mess_cursy
	movi	xjlfstr_cpu,a4
	calla	print_string_C2
	
	.endif
	
	rets


stats_str
	.string	"STATS",0
	.even


*****************************************************************************
;
;
;deloff	SLEEP	1ch
;	callr	deloffbot
;	jruc	deloff
;
;deloffbot:
;;delete foreground objects that are off bottom of screen
;	move	@WORLDTLY,a1,L
;	addi	[260,0],a1
;	srl	16,a1
;	movi	RAMLST,a3
;	clr	a0
;	move	a0,*a3,L
;	movi	OBJLST,a0
;sobjs1
;	move	*a0,a0,L
;	jreq	sobjsx
;	move	*a0(OYPOS),a2
;	cmp	a2,a1
;	jrnc	sobjs1
;contab
;	move	a0,*a3+,L		;img to be deleted
;	clr	a4
;	move	a4,*a3,L		;zero next entry
;	move	a4,*a3(32),L		;zero next entry
;	jruc	sobjs1
;sobjsx
;	movi	RAMLST,a1
;delt	move	*a1+,a0,L
;	jrz	delx
;	PUSH	a1
;	calla	DELOBJ
;	PULL	a1
;	jruc	delt
;delx	rets


********************************

 SUBR	winning_msg

	movi	LN0_setup,a2
	calla	setup_message
	move	*a2,a0,L
	move	a0,@mess_justify,L	;justification method
	movi	CLSDEAD|123,a0
	move	a0,@mess_objid

	move	@team1,a14
	move	@scores,a0
	move	@scores+16,a1
	cmp	a0,a1
	jrlt	bvcqok
	move	@team2,a14
bvcqok
	move	a14,a10
	sll	5,a14
	addi	strings,a14
	move	*a14,a4,L
	move	*a4+,a0
	move	a0,@mess_cursx2

	calla	print_string2b

	movi	bvcqswin,a4
	subk	30-1,a10
	jrnz	bvcqok1
	movi	bvcqswina,a4
bvcqok1
	move	*a4+,a0
	move	a0,@mess_cursx2
	movi	114,a0
	move	a0,@mess_cursy

	calla	print_string2b

	CREATE0	flash_bigtxt2
	move	a0,a9
	
	SLEEP	3*60

	move	a9,a0
	calla	KILL

	movi	TYPTEXT,a0
	calla	obj_del1c
	movi	CLSDEAD|123,a0
	calla	obj_del1c		;delete text

	DIE


LN0_setup
	PRINT_STR	hangfnt38_ascii,14,0,200,60,HANGF_R_P,kern_chars
	.even

strings	.long	bvcqs1,bvcqs2,bvcqs3,bvcqs4,bvcqs5,bvcqs6,bvcqs7,bvcqs8,bvcqs9,bvcqs10
	.long	bvcqs11,bvcqs12,bvcqs13,bvcqs14,bvcqs15,bvcqs16,bvcqs17,bvcqs18,bvcqs19,bvcqs20
	.long	bvcqs21,bvcqs22,bvcqs23,bvcqs24,bvcqs25,bvcqs26,bvcqs27,bvcqs28
	.long	bvcqs29,bvcqs30

bvcqs1	.word	96
	.string	"H",1,-6,"A",1,4,"W",1,-5,"K",1,-5,"S",0
bvcqs2	.word	85
	.string	"C",1,-4,"E",1,-5,"L",1,6,"T",1,-3,"I",1,-1,"C",1,-2,"S",0
bvcqs3	.word	74
	.string	"H",1,-3,"O",1,-2,"R",1,-3,"N",1,-5,"E",1,1,"T",1,-5,"S",0
bvcqs4	.word	113
	.string	"B",1,-1,"U",1,-5,"L",1,1,"L",1,2,"S",0
bvcqs5	.word	49
	.string	"C",1,-5,"A",1,4,"V",1,-10,"A",1,3,"L",1,3,"I",1,-3,"E",1,-4,"R",1,-2,"S",0
bvcqs6	.word	40
	.string	"M",1,-6,"A",1,4,"V",1,-7,"E",1,-4,"R",1,-1,"I",1,-1,"C",1,-3,"K",1,-5,"S",0
bvcqs7	.word	76
	.string	"N",1,-3,"U",1,-3,"G",1,-1,"G",1,-4,"E",1,1,"T",1,-5,"S",0
bvcqs8	.word	80
	.string	"P",1,-1,"I",1,-1,"S",1,2,"T",1,-4,"O",1,-3,"N",1,-4,"S",0
bvcqs9	.word	55
	.string	"W",1,-8,"A",1,3,"R",1,-3,"R",1,-1,"I",1,-1,"O",1,-2,"R",1,-2,"S",0
bvcqs10	.word	75
	.string	"R",1,-2,"OC",1,-3,"K",1,-6,"E",1,1,"T",1,-5,"S",0
bvcqs11	.word	94
	.string	"P",1,-7,"A",1,3,"C",1,-4,"E",1,-4,"R",1,-2,"S",0
bvcqs12	.word	68
	.string	"C",1,-4,"L",1,3,"I",1,-2,"P",1,-3,"P",1,-4,"E",1,-4,"R",1,-2,"S",0
bvcqs13	.word	93
	.string	"L",1,1,"A",1,2,"K",1,-6,"E",1,-4,"R",1,-2,"S",0
bvcqs14	.word	130
	.string	"H",1,-6,"E",1,-5,"A",1,3,"T",0
bvcqs15	.word	108
	.string	"B",1,-1,"U",1,-3,"C",1,-3,"K",1,-5,"S",0
bvcqs16	.word	68
	.string	"T",1,3,"'",1,1,"W",1,-4,"O",1,-3,"L",1,6,"V",1,-7,"E",1,-3,"S",0
bvcqs17	.word	129
	.string	"N",1,-5,"E",1,1,"T",1,-5,"S",0
bvcqs18	.word	92
	.string	"K",1,-5,"N",1,-3,"I",1,-1,"C",1,-3,"K",1,-5,"S",0
bvcqs19	.word	109
	.string	"M",1,-6,"A",1,2,"G",1,-1,"I",1,-1,"C",0
bvcqs20	.word	113
	.string	"7",1,-3,"6",1,-1,"E",1,-4,"R",1,-2,"S",0
bvcqs21	.word	126
	.string	"S",1,-1,"U",1,-5,"N",1,-4,"S",0
bvcqs22	.word	77
	.string	"B",1,-4,"L",1,1,"A",1,2,"Z",1,-5,"E",1,-4,"R",1,-2,"S",0
bvcqs23	.word	112
	.string	"K",1,-4,"I",1,-4,"N",1,-3,"G",1,-2,"S",0
bvcqs24	.word	110
	.string	"S",1,-3,"P",1,-1,"U",1,-4,"R",1,-2,"S",0
bvcqs25	.word	96
	.string	"SO",1,-3,"N",1,-2,"I",1,-1,"C",1,-2,"S",0
bvcqs26	.word	73
	.string	"R",1,-3,"A",1,2,"P",1,3,"T",1,-4,"O",1,-2,"R",1,-2,"S",0
bvcqs27	.word	128
	.string	"J",1,-7,"A",1,2,"Z",1,-6,"Z",0
bvcqs28	.word	58
	.string	"G",1,-3,"R",1,-1,"I",1,-3,"Z",1,-6,"Z",1,-5,"L",1,3,"I",1,-3,"E",1,-3,"S",0
bvcqs29	.word	83
	.string	"B",1,-1,"U",1,-5,"L",1,1,"L",1,1,"E",1,1,"T",1,-5,"S",0
bvcqs30	.word	29
	.string	"T",1,-6,"H",1,-6,"E C",1,-4,"H",1,-6,"A",1,2,"M",1,-5,"P",1,-2,"S",0

bvcqswina	.word	49
	.string	"W",1,-5,"I",1,-4,"N A",1,2,"G",1,-4,"A",1,3,"I",1,-5,"N",0
bvcqswin	.word	144
	.string	"W",1,-5,"I",1,-4,"N",0
	.even


*****************************************************************************
;DJT Start
	.if	TRIVCON
 SUBR	trivia_rules

	movk	ADJTRIVIA,a0		;Get difficulty level
	calla	GET_ADJ
	move	a0,a0			;if value is NON-ZERO, dont allow
	jrnz	waltnotriv

	calla	display_blank
	calla	WIPEOUT

	clr	a0
	move	a0,@dtype		;2D

	movk	1,a0			;page flipping on
	move	a0,@dpageflip
	move	a0,@DISPLAYON

	movi	SCRNEND,a0		;[256,405]
	move	a0,@SCRNLR,L

	clr	a0
	move	a0,@WORLDTLX,L
	move	a0,@WORLDTLY,L
	move	a0,@IRQSKYE

	calla	display_unblank

	SLEEPK	1			;Make sure page is clear

	movi	waltstrops,a11
waltlp
	clr	a0
	move	a0,@DISPLAYON
	move	a0,@dpageflip
	SLEEPK	1

	movi	waltrules_mod,a0
	move	a0,@BAKMODS,L
	calla	BGND_UD1

	movk	1,a0
	calla	create_title_bar

	movk	24,a0
	move	a0,@mess_line_spacing

	movi	waltheading_setup,a2
	calla	setup_message
	movi	waltstr_heading,a4
	calla	print_string_C2

	movi	waltnopurch_setup,a2
	calla	setup_message
	movi	waltstr_nopurch,a4
	calla	print_string_C2

	movi	waltrules_setup,a2
	calla	setup_message
	movk	9,a0
	move	a0,@mess_line_spacing

	jruc	waltnxt

waltdostr
	move	*a11+,a0
	move	*a11+,a1,L
	move	a0,@mess_cursx
	move	a1,@message_palette,L
	calla	print_string_C2
waltnxt
	move	*a11+,a4,L
	jrnz	waltdostr

	movk	1,a0
	move	a0,@DISPLAYON
	SLEEPK	1
	clr	a0
	move	a0,@DISPLAYON

	clr	a1
	dec	a1
	calla	obj_delc
	calla	KILBGND

	move	*a11+,a4,L
	jrn	waltdostr

	move	a4,a10

	movk	1,a0
	move	a0,@dpageflip
	SLEEPK	1
	clr	a0
	move	a0,@dpageflip
waltbutp
	SLEEPK	1
	calla	get_all_buttons_cur2
	jrz	waltnobutp2
	SOUND1	bounce_snd
	jruc	waltbutp2
waltnobutp2
	dsj	a10,waltbutp

waltbutp2
	move	*a11,a4,L
	jrnz	waltlp

	clr	a10
	movk	8,a11
	CREATE0	fade_down

	SLEEP	40
waltnotriv
 	RETP


waltstrops
	LWL	waltrules_str1,  87,waltbas7_alt
	LWL	waltrules_str1a, 245,waltbas7_white
	LWL	waltrules_str1b, 200,waltbas7_white
	.long	0
	LWL	waltrules_str2,  64,waltbas7_alt
	LWL	waltrules_str2a, 226,waltbas7_white
	LWL	waltrules_str2b, 200,waltbas7_white
	.long	0
	.long	TSEC*25

	LWL	waltrules_str3,  48,waltbas7_alt
	LWL	waltrules_str3a, 226,waltbas7_white
	LWL	waltrules_str3b, 200,waltbas7_white
	.long	0
	LWL	waltrules_str4,  121,waltbas7_alt
	LWL	waltrules_str4a, 273,waltbas7_white
	LWL	waltrules_str4b, 200,waltbas7_white
	.long	0
	LWL	waltrules_str5 , 200,waltbas7_white
	.long	0
	.long	TSEC*25

	LWL	waltrules_str6 , 200,waltbas7_white
	.long	0
	LWL	waltrules_str7 , 200,waltbas7_white
	.long	0
	LWL	waltrules_str8 , 200,waltbas7_white
	.long	0
	.long	TSEC*25

	LWL	waltrules_str9 , 200,waltbas7_white
	.long	0
	.long	TSEC*15

	LWL	waltrules_str10, 116,waltbas7_alt
	LWL	waltrules_str10a,284,waltbas7_white
	LWL	waltrules_str10b,200,waltbas7_white
	.long	0
	LWL	waltrules_str11, 200,waltbas7_white
	.long	0
	LWL	waltrules_str12, 200,waltbas7_white
	.long	0
	.long	TSEC*25

	LWL	waltrules_str13, 200,waltbas7_alt
	LWL	waltrules_str14,  82,waltbas7_alt
	LWL	waltrules_str14a,243,waltbas7_white
	LWL	waltrules_str14b,200,waltbas7_white
	.long	0
	LWL	waltrules_str15, 200,waltbas7_white
	.long	0
	LWL	waltrules_str16,  80,waltbas7_alt
	LWL	waltrules_str16a,242,waltbas7_white
	LWL	waltrules_str16b,200,waltbas7_white
	.long	0
	.long	TSEC*20

	LWL	waltrules_str17,  93,waltbas7_alt
	LWL	waltrules_str17a,250,waltbas7_white
	LWL	waltrules_str17b,200,waltbas7_white
	LWL	waltrules_str18, 130,waltbas7_alt
	LWL	waltrules_str18a,251,waltbas7_white
	LWL	waltrules_str18b,200,waltbas7_white
	LWL	waltrules_str19, 170,waltbas7_alt
	LWL	waltrules_str19a,285,waltbas7_white
	.long	0
	LWL	waltrules_str20,  46,waltbas7_alt
	LWL	waltrules_str20a,217,waltbas7_white
	LWL	waltrules_str21,  58,waltbas7_alt
	LWL	waltrules_str21a,230,waltbas7_white
	LWL	waltrules_str21b,200,waltbas7_white
	.long	0
	.long	TSEC*25

	LWL	waltrules_str22,  76,waltbas7_alt
	LWL	waltrules_str22a,238,waltbas7_white
	LWL	waltrules_str22b,200,waltbas7_white
	.long	0
	LWL	waltrules_str23, 200,waltbas7_white
	.long	0
	.long	TSEC*20

	LWL	waltrules_str24, 200,waltbas7_white
	.long	0
	LWL	waltrules_str25,  91,waltbas7_alt
	LWL	waltrules_str25a,239,waltbas7_white
	LWL	waltrules_str25b,200,waltbas7_white
	LWL	waltrules_str25c,200,waltbas7_alt
	LWL	waltrules_str25d,200,waltbas7_white
	.long	0
	.long	TSEC*20

	.long	0

waltrules_mod
	.long	BKGDBMOD
	.word	0,0
	.long	0

waltbas7_alt
	.word	3
	.word	0,0,(1fh*32+0ch)*32+1fh

waltbas7_white
	.word	3
	.word	0,0,(1fh*32+1fh)*32+1fh

waltheading_setup
	PRINT_STR	bast18_ascii,8,0,200,7,BSTGYO_P,0

waltstr_heading
	.string	"NBA HANGTIME SWEEPSTAKES",1
	.string	"OFFICIAL RULES",0
	.even

waltnopurch_setup
	PRINT_STR	bast10_ascii,8,0,200,59,BAST_G_P,0

waltstr_nopurch
	.string	"NO PURCHASE NECESSARY",0
	.even

waltrules_setup
	PRINT_STR	bast7t_ascii,5,0,200,76,waltbas7_alt,0
	
waltrules_str1
	.string	"Who May Enter: ",0
waltrules_str1a
	.string	"The NBA HANGTIME SWEEPSTAKES is open to",1,0
waltrules_str1b
	.string	"all legal residents of the United States, except residents",1
	.string	"of Arizona, New York, Vermont and Washington, employees",1
	.string	"of WMS Industries, the National Basketball Association,",1
	.string	"related parties and their immediate families. All federal,",1
	.string	"state and local laws apply. Void where prohibited.",1
	.string	"Contest sponsored by Midway Manufacturing Company,",1
	.string	"3401 N. California, Chicago, IL 60618.",1,1,0

waltrules_str2
	.string "Deadline: ",0
waltrules_str2a
	.string	"The NBA HANGTIME SWEEPSTAKES begins on April 10,",1,0
waltrules_str2b
	.string	"1996. To be eligible, all entries must be received no later",1
	.string	"than 11:59 p.m. Eastern Standard Time on September 13, 1996.",1
	.string "Sponsor is not responsible for lost, stolen, late or",1
	.string	"misdirected mail, mechanical errors, typographical or",1
	.string	"printing errors, third party interference or electrical,",1
	.string "network, computer, hardware or software malfunctions.",0

waltrules_str3
	.string "To Enter: ",0
waltrules_str3a
	.string	"Participants may enter the NBA HANGTIME SWEEPSTAKES",1,0
waltrules_str3b
	.string	"after answering NBA HANGTIME trivia questions worth 100",1
	.string	"points. A participant may reach 100 points in two ways:",1,1,0

waltrules_str4
	.string "(1) GAME METHOD OF ENTRY: ",0
waltrules_str4a
	.string	"Each player who purchases a",1,0
waltrules_str4b
	.string "full, four-quarter length game of NBA HANGTIME will have",1
	.string	"the option of establishing a Personal Identification",1
	.string "Number (PIN).  After each full, four-quarter length game",1
	.string "of NBA HANGTIME, PLAYED ON ONE SPECIFIC MACHINE, IN ONE",1
	.string "PARTICULAR LOCATION, in which one or more participants",1
	.string	"have entered his or her PIN number, the NBA HANGTIME TRIVIA",1
	.string	"GAME will be activated for those participant(s).",1,1,0

waltrules_str5
	.string "When activated, the player will see a trivia contest",1
	.string	"screen that explains the contest rules.",0

waltrules_str6
	.string	"A second screen will then appear with a multiple choice",1
	.string	"trivia question. Beside each question will be a point value",1
	.string	"that can be earned for answering that question correctly.",1
	.string	"Each question has a constant point value, specific to that",1
	.string	"question. Each player will have 10 seconds to answer the",1
	.string	"question. If answered correctly, the point value of that",1
	.string	"question will be stored in the machine, cross-referenced",1,0

waltrules_str7
	.string	"with the participant's PIN number. The point value of each",1
	.string	"subsequent, correctly answered question submitted under",1
	.string	"that PIN number will be added to the participant's point",1
	.string "total, and the machine will keep a running score of each",1
	.string	"player's total points, for each player with a PIN number",1
	.string	"assigned to that machine. PIN numbers may only be used on",1
	.string "one, specific machine. A participant's point total will not",1,0

waltrules_str8
	.string	"include points earned in games played on other NBA HANGTIME",1
	.string	"machines played at other locations. ",0

waltrules_str9
	.string "Once a player reaches a total of 100 points, they will be",1
	.string	"designated an 'NBA Trivia Champion.' A screen will then",1
	.string	"appear with a password. NBA Trivia Champions must then send",1
	.string	"their password, along with their name, age, address and",1
	.string	"phone number, printed or typed legibly, to NBA HANGTIME",1
	.string	"TRIVIA GAME Entries, P.O. Box 52990, Dept. 7526, Phoenix,",1
	.string	"Arizona 85072-2990 to be entered in the NBA HANGTIME",1
	.string "SWEEPSTAKES drawing.",0

waltrules_str10
	.string "(2) WRITE-IN METHOD OF ENTRY: ",0
waltrules_str10a
	.string	"Participants may send a self-",1,0
waltrules_str10b
	.string	"addressed, stamped envelope to NBA HANGTIME TRIVIA GAME",1
	.string	"Winners List/Rules Requests, P.O. Box 52912, Dept. 7527,",1
	.string	"Phoenix, Arizona 85072-2912. They will then receive, by",1
	.string	"mail, a complete set of trivia questions identical to the",1
	.string	"trivia questions that appear in the NBA HANGTIME arcade",1
	.string	"game, with identical point values, and a complete set of",1,0

waltrules_str11
	.string	"these Rules. After answering the questions provided to the",1
	.string	"best of the participant's ability, spending no more time",1
	.string	"than one minute answering each question, the answers must",1
	.string	"be sent to NBA HANGTIME TRIVIA GAME Entries, P.O. Box 52990,",1
	.string	"Dept. 7526, Phoenix, Arizona 85072-2990 for scoring, along",1
	.string	"with the participant's name, age, address and phone number,",1
	.string	"printed or typed legibly. Participants who correctly answer",1,0

waltrules_str12
	.string	"enough of the questions provided to achieve a point total of",1
	.string	"at least 100 points will be designated 'NBA Trivia Champion'",1
	.string	"and will be entered in the NBA HANGTIME SWEEPSTAKES drawing.",0

waltrules_str13
	.string "Prizes:",1,1,0

waltrules_str14
	.string "Grand prize (1): ",0
waltrules_str14a
	.string	"A trip for two to any one regular season",1,0
waltrules_str14b
	.string	"NBA game during the 1996-97 NBA season. The winner may",1
	.string	"choose any regular season game. The prize package includes",1
	.string	"airfare for two to the city in which the game is played,",1
	.string	"two tickets to the game, two nights hotel accommodations",1
	.string	"for two, double occupancy, and $500.00 to cover meals and",1
	.string	"transportation to and from the airport. The winner will be",1,0

waltrules_str15
	.string	"provided a schedule of games by October 15, 1996. They",1
	.string	"must then notify Midway Manufacturing of their choice by",1
	.string	"October 31, 1996. (Approximate Retail Value: $5,300.00)",1,1,0

waltrules_str16
	.string "First Prize (1): ",0
waltrules_str16a
	.string	"An NBA HANGTIME coin-operated arcade game",1,0
waltrules_str16b
	.string	"(Approximate Retail Value: $5,000.00)",0

waltrules_str17
	.string "Second Prize (25): ",0
waltrules_str17a
	.string	"An Official NBA Champion Brand Jersey.",1,0
waltrules_str17b
	.string	"Winners will receive either a Scottie Pippen, Anfernee",1
	.string	"Hardaway, Shawn Kemp, Magic Johnson, Grant Hill or Jason",1
	.string	"Kidd jersey. Winners will not be able to select which",1
	.string	"jersey they receive (Approximate Retail Value: $125.00 each)",1,1,0

waltrules_str18
	.string "Third Prize (1,000): ",0
waltrules_str18a
	.string	"An NBA HANGTIME T-shirt",1,0
waltrules_str18b
	.string	"(Approximate Retail Value: $10.00)",1,1,0

waltrules_str19
	.string "Total approximate prize value: ",0
waltrules_str19a
	.string	"$23,425.00",1,1,0

waltrules_str20
	.string "Odds: ",0
waltrules_str20a
	.string	"Odds are dependent upon the number of entries received.",1,1,0

waltrules_str21
	.string "Selection: ",0
waltrules_str21a
	.string	"Winners will be randomly selected by Continental",1,0
waltrules_str21b
	.string	"Promotion Group Inc., an independent judging and fulfillment",1
	.string	"agency, on or about September 18, 1996. All decisions of the",1
	.string "judges are final and binding in all respects.",1,1,0

waltrules_str22
	.string "Notification: ",0
waltrules_str22a
	.string	"Winners will be notified by overnight courier",1,0
waltrules_str22b
	.string	"and/or telephone on or about September 22, 1996. ",1
	.string	1
	.string "Only one entry per participant. No entries by facsimile",1
	.string	"or electronic transmission. Winners will be required to",1
	.string	"complete affidavit of eligibility, waiver of liability and",1
	.string	"publicity release, which must be returned within 15 days of",1
	.string	"receipt or any prize award will be void. If winner is under",1,0

waltrules_str23
	.string "the age of 18, winner must provide signed parental consent,",1
	.string	"in a form provided by the Sponsor, in order to receive prize.",1
	.string	"Limit one prize per household.",1
	.string	1
	.string	"All prizes will be awarded. No substitution or transfer of",1
	.string	"prizes. Taxes are the responsibility of winners.",0

waltrules_str24
	.string	"By participating winners consent to use of their name,",1
	.string	"address and likeness for advertising, promotional and",1
	.string	"publicity purposes without additional compensation, except",1
	.string	"where prohibited by law. All entries become the property",1
	.string	"of sponsor and will not be returned.",1,1,0

waltrules_str25
	.string "Winners List: ",0
waltrules_str25a
	.string	"For a winners list, please send a self-",1,0
waltrules_str25b
	.string	"addressed, stamped envelope by September 22, 1997 to:",1,1,0
waltrules_str25c
	.string	"NBA HANGTIME TRIVIA GAME Winners List/Rules Requests",1,0
waltrules_str25d
	.string	"P.O. Box 52912, Dept. 7527, Phoenix, Arizona 85072-2912",0
	.even
	.endif	;TRIVCON
;DJT End



	.if	0

****************************************************************
* Title screen

; SUBRP	show_title2
;
;	calla	display_blank
;	calla	WIPEOUT
;
;	clr	a0
;	move	a0,@dtype		;2D
;
;	movk	1,a0			;page flipping on
;	move	a0,@dpageflip
;
;	movi	SCRNEND,a0		;[256,405]
;	move	a0,@SCRNLR,L
;
;	clr	a0
;	move	a0,@WORLDTLX,L
;	move	a0,@WORLDTLY,L
;	move	a0,@IRQSKYE
;
;	SLEEPK	2
;
;	movi	igojttl_t,a0
;	move	a0,@BAKMODS,L
;	calla	BGND_UD1
;
;	CREATE0	startcyc
;
;	clr	a10
;	movk	16,a11
;
;	CREATE0	fade_up
;
;	movk	1,a0
;	move	a0,@DISPLAYON
;
;	SLEEPK	2
;	calla	display_unblank
;
;	SLEEP	1*TSEC+30
;
;	movi	7*TSEC,a10
;igojlp	SLEEPK	1
;	calla	get_all_buttons_cur2
;	jrz	igojnob
;      	clr	a0
;	move	a0,@SOUNDSUP		;turn all sounds on
;	SOUND1	bounce_snd
;	movk	1,a0
;	move	a0,@SOUNDSUP		;turn all sounds off
;	jruc	igojxb
;igojnob	
;	dsj	a10,igojlp
;igojxb
;	movi	CYCPID,a0
;	calla	KIL1C
;
;	clr	a10
;	movk	8,a11
;	CREATE0	fade_down
;
;	SLEEP	40
;
;	RETP

;igojttl_t
;	.long	ttitleBMOD
;	.word	23,25
;	.long	0

;startcyc
;	SLEEPK	9
;	movi	STATIC_p,a8
;	movi	cycram,a9
;	movi	[1,8],a10		;1st,last color
;	movk	2,a11			;Rate
;	CREATE	CYCPID,COLCYC
;	DIE

	.endif


*****************************************************************************

; SUBRP	drw_stars
;
;	calla	display_blank
;	calla	WIPEOUT
;
;	clr	a0
;	move	a0,@dtype		;2D
;
;	movk	1,a0			;page flipping on
;	move	a0,@dpageflip
;
;	movi	SCRNEND,a0		;[256,405]
;	move	a0,@SCRNLR,L
;
;	clr	a0
;	move	a0,@WORLDTLX,L
;	move	a0,@WORLDTLY,L
;	move	a0,@IRQSKYE
;
;	SLEEPK	2
;
;	movi	coinin_mod,a0
;	move	a0,@BAKMODS,L
;	calla	BGND_UD1
;
;	clr	a10
;	movk	16,a11
;	CREATE0	fade_up
;
;	movk	1,a0
;	move	a0,@DISPLAYON
;
;	SLEEPK	2
;
;	calla	display_unblank
;
;	movk	1,a0
;	MOVE	A0,@SOUNDSUP,W		;TURN ALL SOUNDS ON
;	ADJUST	ADJMUSIC		;GET MUSIC ON OFF FOR DEMO
;	MOVE	A0,A0
;	JRNZ	lgbrNONO1
;	CLR	A0
;	MOVE	A0,@SOUNDSUP,W		;TURN ALL SOUNDS ON
;
;	movi	tuneend1_snd,a0
;	calla	snd_play1ovr
;
;lgbrNONO1
;
;	.ref	starring
;	JSRP	starring
;
;;	movk	8,a11
;;	.ref	FADE_DOWN
;;	CREATE0	FADE_DOWN
;
;	SLEEP	30
;
;	clr	a10
;	movk	8,a11
;	CREATE0	fade_down
;
;	SLEEP	40
;	movi	musicoff_snd,a0
;	calla	snd_play1ovr
;
;	RETP


;coinin_mod
;	.long	viewfrtBMOD
;	.word	0,5
;	.long	0



*****************************************************************************

; SUBRP	drw_ladder
;
;	calla	display_blank
;	calla	WIPEOUT
;	calla	pal_clean
;
;	clr	a0
;	move	a0,@dtype		;2D
;	move	a0,@HALT
;
;	movk	1,a0			;page flipping on
;	move	a0,@dpageflip
;
;	movi	SCRNEND,a0		;[256,405]
;	move	a0,@SCRNLR,L
;
;	clr	a0
;	move	a0,@WORLDTLX,L
;	movi	[13*360-8,0],a0
;	move	a0,@WORLDTLY,L
;
;	SLEEPK	2
;
;	movi	ixtjladder_mod,a0
;	move	a0,@BAKMODS,L
;	calla	BGND_UD1
;
;	CREATE0	deloff
;
;	CREATE0	drw_teams
;
;	SLEEPK	2
;
;	clr	a10
;	movk	16,a11
;	CREATE0	fade_up
;
;	movk	1,a0
;	move	a0,@DISPLAYON
;	SLEEPK	2
;	calla	display_unblank
;
;
;	SLEEP	2*60
;
;	CREATE0	drwnbalogoUP
;
;	movi	0772H-4,a10
;ixtjlp	SLEEPK	1
;	move	@WORLDTLY,a0,L
;	subi	[2,8000h],a0
;	move	A0,@WORLDTLY,L
;	calla	BGND_UD1
;
;
;	calla	get_all_buttons_cur2
;	jrz	ixtjnob
;      	clr	a0
;	move	a0,@SOUNDSUP		;turn all sounds on
;	SOUND1	bounce_snd
;	movk	1,a0
;	move	a0,@SOUNDSUP		;turn all sounds off
;	jruc	ixtjxb
;ixtjnob	dsj	a10,ixtjlp
;
;	SLEEP	4*64
;
;ixtjxb
;
;;delete foreground objects that are not within visible screen area
;;init object ram stack
;	clr	a1
;	movi	FADERAM,a2
;
;	movi	100,a0			;uhl to clear
;clrlup:
;	move	a1,*a2+,L
;	dsjs	a0,clrlup
;
;	movi	FADERAM,a9
;	move	@OBJLST,a8,L		;look through the fgndlist
;	jreq	ofail			;does not exist! indicate error
;chkfobj:
;	calla	SCRTST			;test for object on screen
;	jreq	onscrn			;object is definitely on screen!
;	move	a8,*a9+,L		;dump into ram stack
;onscrn:
;	move	*a8(OLINK),a8,L		;let's search for another
;	jrne	chkfobj
;	clr	a0
;	move	a0,*a9,L		;terminate table
;
;objpull:
;	movi	FADERAM,a9
;lupobj:
;	move	*a9+,a0,L
;	jrz	ofail			;no object list exits!
;	calla	DELOBJ			;delete object from list
;	jruc	lupobj
;
;ofail:
;
;	calla	pal_clean
;
;	clr	a10
;	movk	8,a11
;	CREATE0	fade_down
;
;	SLEEP	22h
;	RETP


;drwnbalogoUP
;
;	SLEEP	1*60
;ixtjdrw
;	movi	[60,0],a11
;;	movi	nbalogo,a9
;	movi	TSMLOGO,a9
;	CREATE0	logo_drift
;	movi	[334,0],a11
;	movi	TSMLOGO,a9
;	CREATE0	logo_drift
;	SLEEP	15*60
;	movi	[60,0],a11
;	movi	TSMLOGO,a9
;	CREATE0	logo_drift
;	movi	[334,0],a11
;	movi	TSMLOGO,a9
;	CREATE0	logo_drift
;	DIE
;
;logo_drift
;
;	move	a11,a0
;	movi	[248+48,0],a1
;	movi	07591H,a3				;Z
;	movi	DMAWNZ|M_NOCOLL,a4
;	move	a9,a2
;	movi	CLSDEAD,a5
;	clr	a6
;	movi	[-3,0],a7
;	calla	BEGINOBJ
;
;	SLEEP	25*60
;	jauc	DELOBJDIE



;drw_teams
;
;	.ref	ladder_imgs0,ladder_imgs1,ladder_imgs2,ladder_imgs3,ladder_imgs4
;	.ref	ladder_imgs5,ladder_imgs6
;
;	movi	ladder_imgs0,a9
;	callr	ixtjdrlp
;	SLEEP	90
;	movi	ladder_imgs1,a9
;	callr	ixtjdrlp
;	SLEEP	140h
;	callr	deloffbot
;	movi	ladder_imgs2,a9
;	callr	ixtjdrlp
;	SLEEP	110h
;	callr	deloffbot
;	movi	ladder_imgs3,a9
;	callr	ixtjdrlp
;	SLEEP	110h
;	callr	deloffbot
;	movi	ladder_imgs4,a9
;	callr	ixtjdrlp
;	SLEEP	110h
;	callr	deloffbot
;	movi	ladder_imgs5,a9
;	callr	ixtjdrlp
;	SLEEP	110h
;	callr	deloffbot
;	movi	ladder_imgs6,a9
;	callr	ixtjdrlp
;	DIE
	

;ixtjdrlp	move	*a9+,a2,L
;	jrz	ixtjx
;
;	move	*a9+,a0,L
;	move	*a9+,a1,L
;	sll	16,a0
;	sll	16,a1
;	movi	20000,a3
;	movi	DMAWNZ|M_NOCOLL,a4
;	movi	CLSDEAD,a5
;	clr	a6
;	clr	a7
;	calla	BEGINOBJ2
;	callr	ixtjclippit
;
;
;	move	*a9+,a2,L
;	move	*a9+,a0,L
;	move	*a9+,a1,L
;	sll	16,a0
;	sll	16,a1
;	movi	20000,a3
;	movi	DMAWNZ|M_NOCOLL,a4
;	movi	CLSDEAD,a5
;	clr	a6
;	clr	a7
;	calla	BEGINOBJ2
;	callr	ixtjclippit
;
;	move	*a9+,a2,L
;	move	*a9+,a0,L
;	move	*a9+,a1,L
;	sll	16,a0
;	sll	16,a1
;	movi	20000,a3
;;	movi	DMAWNZ|M_FLIPH|M_NOCOLL,a4
;	movi	DMAWNZ|M_NOCOLL,a4
;	movi	CLSDEAD,a5
;	clr	a6
;	clr	a7
;	calla	BEGINOBJ2
;	callr	ixtjclippit
;
;	move	*a9+,a2,L
;	move	*a9+,a0,L
;	move	*a9+,a1,L
;	sll	16,a0
;	sll	16,a1
;	movi	20000,a3
;	movi	DMAWNZ|M_NOCOLL,a4
;	movi	CLSDEAD,a5
;	clr	a6
;	clr	a7
;	calla	BEGINOBJ2
;	jruc	ixtjdrlp
;ixtjx	rets


;	.asg	65,HEAD_WIDTH
;ixtjclippit
;	move	*a8(OSIZEX),a0
;	subi	HEAD_WIDTH,a0
;	jrb	ixtjno_clip
;	move	a0,*a8(OFSET)
;ixtjno_clip
;	rets


;ixtjladder_mod
;	.long	dabullBMOD
;	.word	0ff4bH+5,0ffa1H+3
;	.long	ladderBMOD
;	.word	0+5,-92+360
;	.long	ladderBMOD
;	.word	0+5,-92+360*2
;	.long	ladderBMOD
;	.word	0+5,-92+360*3
;	.long	ladderBMOD
;	.word	0+5,-92+360*4
;	.long	ladderBMOD
;	.word	0+5,-92+360*5
;	.long	ladderBMOD
;	.word	0+5,-92+360*6
;	.long	ladderBMOD
;	.word	0+5,-92+360*7
;	.long	ladderBMOD
;	.word	0+5,-92+360*8
;	.long	ladderBMOD
;	.word	0+5,-92+360*9
;	.long	ladderBMOD
;	.word	0+5,-92+360*10
;	.long	ladderBMOD
;	.word	0+5,-92+360*11
;	.long	ladderBMOD
;	.word	0+5,-92+360*12
;	.long	ladderBMOD
;	.word	0+5,-92+360*13
;	.long	0



****************************************************************

; SUBRP	drw_cutaway
;
;	calla	display_blank
;	calla	WIPEOUT
;	calla	pal_clean
;
;	clr	a0
;	move	a0,@dtype		;2D
;
;	movk	1,a0			;page flipping on
;	move	a0,@dpageflip
;
;	movi	SCRNEND,a0		;[256,405]
;	move	a0,@SCRNLR,L
;
;	clr	a0
;	move	a0,@WORLDTLX,L
;	move	a0,@WORLDTLY,L
;
;	SLEEPK	2
;
;	movi	iaeocut_mod,a0
;	move	a0,@BAKMODS,L
;	calla	BGND_UD1
;
;	movk	1,a0
;	move	a0,@DISPLAYON
;
;	SLEEPK	2
;
;	calla	display_unblank
;
;;	CREATE0	drw_cards
;;	SLEEP	4*64
;;	clr	a0
;;	move	a0,@DISPLAYON
;
;	SLEEP	1*TSEC+30
;
;	movi	3*TSEC,a10
;iaeolp	SLEEPK	1
;	calla	get_all_buttons_cur2
;	jrz	iaeonob
;      	clr	a0
;	move	a0,@SOUNDSUP		;turn all sounds on
;	SOUND1	bounce_snd
;	movk	1,a0
;	move	a0,@SOUNDSUP		;turn all sounds off
;	jruc	iaeoxb
;iaeonob	
;	dsj	a10,iaeolp
;iaeoxb
;
;	clr	a10
;	movk	8,a11
;	CREATE0	fade_down
;
;	SLEEP	40
;
;	RETP


;iaeocut_mod
;	.long	viewfrtBMOD
;	.word	0,5
;	.long	0


	.end


